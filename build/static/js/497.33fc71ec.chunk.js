"use strict";(self.webpackChunktemplate_react_app=self.webpackChunktemplate_react_app||[]).push([[497],{6906:function(e,t,n){n(2791);var l=n(7948),s=n.n(l),i=n(4453),a=n(184);t.Z=function(e){var t=e.isOpen,n=e.message,l=e.yesConfirm,r=e.noConfirm;return(0,a.jsxs)(s(),{isOpen:t,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},shouldCloseOnOverlayClick:!0,contentLabel:"Example Modal",ariaHideApp:!1,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 w-[500px]",children:[(0,a.jsx)("span",{className:"text-2xl font-medium",children:"Confirm"}),(0,a.jsx)("span",{children:n})]}),(0,a.jsxs)("div",{className:"flex flex-row-reverse mt-5 gap-5",children:[(0,a.jsx)(i.Z,{onClick:l,children:"Yes"}),(0,a.jsx)(i.Z,{onClick:function(){r()},children:"No"})]})]})}},6752:function(e,t,n){var l=n(2791),s=n(4261),i=n(4453),a=n(184),r=function(e){var t=e.checkboxTable,n=void 0!==t&&t,r=e.customCssTr,o=void 0===r?"":r,u=e.thead,c=void 0===u?[]:u,d=e.tbody,f=void 0===d?[]:d,x=e.actions,v=void 0===x?[]:x,p=e.onClickTh,h=void 0===p?null:p,m=e.checked,g=void 0===m?[]:m;return(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"overflow-x-auto relative shadow-lg rounded-xl mt-[8px]",children:(0,a.jsxs)("table",{className:"w-full text-xl text-center text-gray-500 dark:text-gray-400 border-separate",children:[(0,a.jsx)("thead",{className:"text-base text-gray-700 uppercase font-semibold bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,a.jsxs)("tr",{children:[n&&(0,a.jsx)("th",{scope:"col",className:"p-4",style:{width:"5%"}}),c&&c.map((function(e,t,n){return t!==n.length-1||e.title?(0,a.jsx)("th",{style:{width:e.width},scope:"col",className:"py-3 px-6",children:e.title},(0,s.Z)()):(0,a.jsx)("th",{style:{width:e.width},scope:"col",className:"py-3 px-1"},(0,s.Z)())}))]})}),(0,a.jsx)("tbody",{className:"text-base",children:f&&f.map((function(e){var t=Object.keys(e).filter((function(e){return"id"!==e}));return(0,a.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50 border-b dark:bg-gray-900 dark:border-gray-700 "+o,children:[n&&(0,a.jsx)("td",{className:"p-4",style:{width:"5%"},children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:g.includes(e.id),className:"w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer",onChange:function(){return h(e.id)}}),(0,a.jsx)("label",{className:"sr-only",children:"checkbox"})]})}),t.map((function(t,n){return(0,a.jsx)("td",{className:"py-4 px-6 font-medium dark:text-white truncate",style:{maxWidth:c[n]["max-width"]},onClick:function(){return h(e.id)},children:e[t]},(0,s.Z)())})),!!v.length&&(0,a.jsx)("td",{className:"py-4 px-1 font-medium whitespace-nowrap text-white flex justify-evenly",children:v.map((function(t){return(0,a.jsx)(l.Fragment,{children:(0,a.jsx)(i.Z,{className:"rounded-lg border-none text-sm font-semibold bg-primary px-3 py-1.5",onClick:function(){t.eventAction&&t.eventAction(e.id)},children:t.name})},(0,s.Z)())}))})]},(0,s.Z)())}))})]})})})};t.Z=(0,l.memo)(r)},3834:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var l,s,i,a,r,o,u,c,d,f,x=n(168),v=n(4165),p=n(5861),h=n(2982),m=n(885),g=n(2791),j=(n(2118),n(4255)),w=n(4238),b=n(7689),y=n(7948),N=n.n(y),Z=(n(3403),n(3458)),S=n(4453),k=n(1413),T=n(4212),C=n(7160),I=n(2426),q=n.n(I),E=n(184),M=(0,T.Z)(),P=function(e){var t=e.setSelectedAssignmentName,n=e.setSelectedDueTime,l=e.setSelectedDoTime,s=e.setSelectedPassScore,i=e.setSelectedTotalScore,a=e.setSelectedRedo,r=(0,b.UO)().assignmentId,o=(0,g.useState)(""),u=(0,m.Z)(o,2),c=u[0],d=u[1],f=(0,g.useState)(0),x=(0,m.Z)(f,2),v=x[0],p=x[1],h=(0,g.useState)(0),j=(0,m.Z)(h,2),w=j[0],y=j[1],N=(0,g.useState)(0),S=(0,m.Z)(N,2),T=S[0],I=S[1],P=(0,g.useState)(0),L=(0,m.Z)(P,2),A=L[0],R=L[1],H=(0,g.useState)((0,C.P6)().getToday()),O=(0,m.Z)(H,2),D=O[0],G=O[1],Q=(0,g.useState)({hour:"",minute:""}),F=(0,m.Z)(Q,2),B=F[0],U=F[1];return(0,g.useEffect)((function(){t(c)}),[t,c]),(0,g.useEffect)((function(){s(w)}),[s,w]),(0,g.useEffect)((function(){i(T)}),[i,T]),(0,g.useEffect)((function(){var e="".concat(D.year,"-").concat(D.month,"-").concat(D.day," ").concat(B.hour,":").concat(B.minute,":00");n(e)}),[n,B,D]),(0,g.useEffect)((function(){l(v)}),[l,v]),(0,g.useEffect)((function(){a(A)}),[a,A]),(0,g.useEffect)((function(){M.get(Z.T5+"assignment/".concat(r)).then((function(e){var t=e.data;t&&(d(t.assignmentName),U({hour:q()(t.dateDue).hour(),minute:q()(t.dateDue).minute()}),p(t.doTime),y(t.passScore),I(t.totalScore),R(t.redo))}))}),[r]),(0,E.jsx)("div",{className:"h-fit",children:(0,E.jsxs)("div",{className:"flex flex-col justify-between gap-3",children:[(0,E.jsx)("input",{className:"text-xl min-w-[360px] transition-all max-w-[360px] focus:border-primary font-medium outline-none border-b-2 resize-x py-2 px-1",value:c,maxLength:45,onKeyDown:function(e){"Enter"===e.key&&d("Assignment Name"===c?"":c)},onChange:function(e){d(e.target.value)},style:{width:"".concat(c.length,"ch")}}),(0,E.jsxs)("div",{className:"flex flex-row gap-4 items-center justify-between w-full",children:[(0,E.jsx)("label",{children:"Date Due"}),(0,E.jsx)("div",{className:"flex flex-row gap-3 items-center w-[60%]",children:(0,E.jsx)(C.ZP,{value:D,onChange:G,inputPlaceholder:"Select a day",calendarPopperPosition:"bottom",calendarClassName:"pickday h-[100px] w-full",wrapperClassName:"pickday w-full",inputClassName:"w-full border-b-2 outline-none",minimumDate:(0,C.P6)().getToday(),shouldHighlightWeekends:!0})})]}),(0,E.jsxs)("div",{className:"flex flex-row gap-4 items-center justify-between w-full",children:[(0,E.jsx)("label",{children:"Due Time"}),(0,E.jsx)("div",{className:"flex flex-row gap-3 items-center w-[60%]",children:(0,E.jsxs)("div",{className:"flex flex-row gap-5",children:[(0,E.jsx)("input",{type:"number",placeholder:"hour",value:B.hour,onChange:function(e){return U((0,k.Z)((0,k.Z)({},B),{},{hour:e.target.value}))},className:"outline-none px-3 py-1 w-[50%] text-right border-b-2 border-opacity-0 transition-all focus:border-primary"}),":",(0,E.jsx)("input",{type:"number",placeholder:"minute",value:B.minute,onChange:function(e){return U((0,k.Z)((0,k.Z)({},B),{},{minute:e.target.value}))},className:"outline-none px-3 py-1 w-[50%] text-right border-b-2 border-opacity-0 transition-all focus:border-primary"})]})})]}),(0,E.jsxs)("div",{className:"flex flex-row gap-4 items-center justify-between w-full",children:[(0,E.jsx)("label",{children:"Total score"}),(0,E.jsx)("input",{type:"number",min:"0",className:"outline-none border-b-2 text-right focus:border-primary px-1 py-[3px] w-[30%] duration-300 transition-all",value:T,onChange:function(e){I(e.target.value)}})]}),(0,E.jsxs)("div",{className:"flex flex-row gap-4 items-center justify-between w-full",children:[(0,E.jsx)("label",{children:"Pass score"}),(0,E.jsx)("input",{type:"number",min:"0",className:"outline-none border-b-2 text-right focus:border-primary px-1 py-[3px] w-[30%] duration-300 transition-all",value:w,onChange:function(e){y(e.target.value)}})]}),(0,E.jsx)("div",{className:"flex flex-row gap-10 items-center ",children:(0,E.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,E.jsx)("span",{children:"Exam time in"}),(0,E.jsxs)("div",{className:"w-[30%] flex flex-row gap-2 items-center",children:[(0,E.jsx)("input",{type:"number",min:"0",className:"outline-none border-b-2 focus:border-primary px-2 py-[3px] justify-center items-center w-[50px] text-right duration-300 transition-all",value:v,onChange:function(e){p(e.target.value)}}),(0,E.jsx)("span",{children:"m"})]})]})}),(0,E.jsx)("div",{className:"flex flex-row gap-10 items-center",children:(0,E.jsxs)("div",{className:"flex gap-2 items-center w-full justify-between",children:[(0,E.jsx)("span",{children:"Redo"}),(0,E.jsxs)("div",{className:"w-[30%] flex flex-row gap-2 items-center",children:[(0,E.jsx)("input",{type:"number",min:"0",className:"outline-none border-b-2 px-[10px] focus:border-primary py-[3px] justify-center items-center text-right w-[50px] duration-300 transition-all",value:A,onChange:function(e){R(e.target.value)}}),(0,E.jsxs)("span",{children:["time",A>1?"s":""]})]})]})})]})})},L=n(3955),A=n(4648),R=n(140),H=n(8462),O=n(6539),D=n(6048),G=n.n(D),Q=n(6752),F=(0,T.Z)(),B=function(e){var t=e.questionsBank,n=e.onUpdateQuestionBank,l=e.onCloseModalBank,s=[{width:"40%","max-width":"200px",title:"CONTENT"},{width:"30%",title:"SKILLS"},{width:"15%",title:"TOPIC"},{width:"10%",title:"GRADE"},{width:"10%",title:"SCORE"}],i=[{value:1,label:"Multi Choice"},{value:2,label:"True False"},{value:3,label:"Input"},{value:4,label:"Multi Select"}],a=(0,g.useState)([]),r=(0,m.Z)(a,2),o=r[0],u=r[1],c=(0,g.useState)([]),d=(0,m.Z)(c,2),f=d[0],x=d[1],v=(0,g.useState)([]),p=(0,m.Z)(v,2),b=p[0],y=p[1],k=(0,g.useState)([]),T=(0,m.Z)(k,2),C=T[0],I=T[1],q=(0,g.useState)([]),M=(0,m.Z)(q,2),P=M[0],L=M[1],D=(0,g.useState)([]),B=(0,m.Z)(D,2),U=B[0],V=B[1],W=(0,g.useState)([]),z=(0,m.Z)(W,2),_=z[0],K=z[1],Y=(0,g.useState)(""),J=(0,m.Z)(Y,2),X=J[0],$=J[1],ee=(0,g.useState)([]),te=(0,m.Z)(ee,2),ne=te[0],le=te[1],se=(0,g.useState)(""),ie=(0,m.Z)(se,2),ae=ie[0],re=ie[1],oe=(0,g.useState)([]),ue=(0,m.Z)(oe,2),ce=ue[0],de=ue[1],fe=(0,g.useState)(""),xe=(0,m.Z)(fe,2),ve=xe[0],pe=xe[1],he=(0,g.useState)(""),me=(0,m.Z)(he,2),ge=me[0],je=me[1],we=(0,g.useState)(""),be=(0,m.Z)(we,2),ye=be[0],Ne=be[1],Ze=(0,g.useState)(""),Se=(0,m.Z)(Ze,2),ke=Se[0],Te=Se[1],Ce=(0,g.useState)(!1),Ie=(0,m.Z)(Ce,2),qe=Ie[0],Ee=Ie[1],Me=(0,g.useState)(!1),Pe=(0,m.Z)(Me,2),Le=Pe[0],Ae=Pe[1],Re=(0,g.useState)({multiChoice:[{isTrue:!1,answers:""},{isTrue:!1,answers:""},{isTrue:!1,answers:""},{isTrue:!1,answers:""}],multiSelect:[],input:[],trueFalse:[]}),He=(0,m.Z)(Re,2),Oe=He[0],De=He[1],Ge=(0,g.useState)({}),Qe=(0,m.Z)(Ge,2),Fe=Qe[0],Be=Qe[1],Ue=(0,g.useState)(0),Ve=(0,m.Z)(Ue,2),We=Ve[0],ze=Ve[1],_e=(0,g.useState)(0),Ke=(0,m.Z)(_e,2),Ye=(Ke[0],Ke[1]),Je=(0,g.useState)(0),Xe=(0,m.Z)(Je,2),$e=Xe[0],et=Xe[1],tt=(0,g.useState)(0),nt=(0,m.Z)(tt,2),lt=nt[0],st=nt[1],it=(0,g.useState)(""),at=(0,m.Z)(it,2),rt=at[0],ot=at[1],ut=(0,g.useRef)(),ct=g.useState(!1),dt=(0,m.Z)(ct,2),ft=dt[0],xt=dt[1],vt=(0,g.useState)(""),pt=(0,m.Z)(vt,2),ht=pt[0],mt=pt[1],gt=function(){V([]),xt(!1)},jt=function(e){I((function(t){return t.includes(e)?(L((function(t){return t.filter((function(t){return t.id!==e}))})),e===ye&&wt(),t.filter((function(t){return t!==e}))):(L((function(t){var n=b.find((function(t){return t.id===e}));return wt(n),n?[].concat((0,h.Z)(t),[n]):t})),[].concat((0,h.Z)(t),[e]))}))},wt=function(e){Ne((null===e||void 0===e?void 0:e.id)||""),Te((null===e||void 0===e?void 0:e.content)||""),Ee(!(null===e||void 0===e||!e.hint)),Ae((null===e||void 0===e?void 0:e.hint)||""),De((null===e||void 0===e?void 0:e.option)||{multiChoice:[{isTrue:!1,answers:""},{isTrue:!1,answers:""},{isTrue:!1,answers:""},{isTrue:!1,answers:""}],multiSelect:[],input:[],trueFalse:[]}),ot((null===e||void 0===e?void 0:e.level)||""),Be(i[(null===e||void 0===e?void 0:e.questionTypeId)-1]||""),ze((null===e||void 0===e?void 0:e.score)||0)},bt=function(e,t){return{value:e,label:t}};return(0,g.useEffect)((function(){if(F.get(Z.T5+"grade").then((function(e){var t=e.data,n=[];n.push({value:"",label:"All Grades"});for(var l=0;l<t.length;l++)n.push(bt(t[l].id,t[l].gradeName));K(n)})),F.get(Z.T5+"topic").then((function(e){var t=e.data,n=[];n.push({value:"",label:"All Topics"});for(var l=0;l<t.length;l++)n.push(bt(t[l].id,t[l].topicName));le(n)})),F.get(Z.T5+"skill").then((function(e){var t=e.data,n=[];n.push({value:"",label:"All Skills"});for(var l=0;l<t.length;l++)n.push(bt(t[l].id,t[l].skillName));de(n)})),t){L(t);for(var e=0;e<t.length;e++)jt(t[e].id)}}),[]),(0,g.useEffect)((function(){return function(e,t,n,l){F.get(Z.T5+"question/question-bank?gradeId=".concat(e,"&topicId=").concat(t,"&skillId=").concat(n,"&level=").concat(l)).then((function(e){for(var t=e.data,n=[],l=0;l<t.length;++l)n.push({id:t[l].id,content:t[l].content,skills:t[l].skillName,topic:t[l].topicName,grade:t[l].gradeName,score:t[l].score});u(n),y(t),Ye(t.length>0?1:0)}))}(X,ae,ve,ge),document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[X,ae,ve,ge]),(0,g.useEffect)((function(){ut.current.setValue(ke||"")}),[ke]),(0,g.useEffect)((function(){var e=lt+5,t=o.filter((function(e){return""===ht||e.content.toLowerCase().includes(ht.toLowerCase())?e:""}));x(t.slice(lt,e)),console.log(Math.ceil(t.length/5)),et(Math.ceil(t.length/5))}),[lt,o,ht]),(0,E.jsxs)("div",{className:"px-8 h-full relative",children:[(0,E.jsx)("i",{className:"fas fa-times text-2xl right-[8px] absolute cursor-pointer",onClick:l}),(0,E.jsxs)("div",{className:"flex flex-row justify-between pt-8 h-full w-full",children:[(0,E.jsxs)("div",{className:"w-[40%] flex flex-col justify-between",children:[(0,E.jsxs)("div",{className:"flex flex-row gap-7",children:[(0,E.jsxs)("span",{className:"text-xl font-medium flex gap-2 min-w-[160px]",children:["Level :",(0,E.jsx)("span",{className:" ".concat("Hard"===rt?"text-red-400":"Medium"===rt?"text-yellow-400":"text-green-400"," "),children:rt})]}),(0,E.jsxs)("span",{className:"flex text-xl font-medium gap-2",children:["Score:",(0,E.jsxs)("div",{className:"flex font-normal",children:[(0,E.jsx)("div",{className:"flex justify-end min-w-[32px]",children:We||0}),(0,E.jsx)("span",{children:".pt"})]})]})]}),(0,E.jsx)("math-field",{id:"Bank-modal-formula",ref:ut,style:{whiteSpace:"initial",fontSize:"20px",outline:"none",padding:"0.5rem 1.5rem",userSelect:"none",width:"100%",maxHeight:"150px",overflowWrap:"break-word",fontFamily:"Poppins"},readonly:!0}),(0,E.jsx)(w.E.div,{layout:!0,animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},transition:{duration:.3},className:"duration-300 h-[48px]",children:qe&&(0,E.jsxs)("div",{className:"px-6 py-3 text-white flex flex-row gap-4 items-center bg-primary rounded-md overflow-hidden w-full break-words",children:[(0,E.jsx)("i",{className:"far fa-lightbulb"}),(0,E.jsx)("span",{className:" whitespace-pre-line",children:Le||"Hint"})]})}),(0,E.jsx)("div",{className:"h-[350px] overflow-y-auto",children:1===(null===Fe||void 0===Fe?void 0:Fe.value)?(0,E.jsx)(A.Z,{setAnswers:De,answers:Oe,questionType:Fe}):2===(null===Fe||void 0===Fe?void 0:Fe.value)?(0,E.jsx)(R.Z,{setAnswers:De,answers:Oe,questionType:Fe}):3===(null===Fe||void 0===Fe?void 0:Fe.value)?(0,E.jsx)(H.Z,{setAnswers:De,answers:Oe,questionType:Fe}):4===(null===Fe||void 0===Fe?void 0:Fe.value)?(0,E.jsx)(O.Z,{setAnswers:De,answers:Oe,questionType:Fe}):""})]}),(0,E.jsxs)("div",{className:"flex flex-col w-[58%] h-full",children:[(0,E.jsxs)("div",{className:"flex flex-col h-[152px] justify-center align-center",children:[(0,E.jsxs)("div",{className:"flex flex-col w-full items-center px-[4px] pb-[4px]",children:[(0,E.jsxs)("div",{className:"flex justify-between w-full px-[4px] pb-[4px]",children:[(0,E.jsx)(j.ZP,{className:"w-[48%]",options:_,placeholder:"Grade",onChange:function(e){return $(e.value)}}),(0,E.jsx)(j.ZP,{className:"w-[48%]",options:ne,placeholder:"Topic",onChange:function(e){return re(e.value)}})]}),(0,E.jsxs)("div",{className:"flex justify-between w-full p-[4px]",children:[(0,E.jsx)(j.ZP,{className:"w-[48%]",options:[{value:"",label:"All Levels"},{value:"Easy",label:"Easy"},{value:"Medium",label:"Medium"},{value:"Hard",label:"Hard"}],placeholder:"Level",onChange:function(e){return je(e.value)}}),(0,E.jsx)(j.ZP,{className:"w-[48%]",options:ce,placeholder:"Skill",onChange:function(e){return pe(e.value)}})]})]}),(0,E.jsx)("div",{className:"w-full px-[8px] pb-[4px]",children:(0,E.jsx)("div",{className:"flex justify-center",children:(0,E.jsxs)("div",{className:"flex flex-row w-full",children:[(0,E.jsx)("input",{type:"search",onChange:function(e){return mt(e.target.value)},id:"search-dropdown",className:"block p-2.5 w-full outline-primary transition-all text-sm text-gray-900 bg-gray-50 rounded-l-lg border border-gray-300 ",placeholder:"Search question",required:""}),(0,E.jsx)("button",{className:"top-0 right-0 p-2.5 text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:(0,E.jsx)("i",{className:"fa fa-search"})})]})})})]}),(0,E.jsx)("div",{className:"grow",children:(0,E.jsxs)("div",{className:"flex flex-col justify-between h-[100%]",children:[(0,E.jsx)("div",{className:"grow",children:(0,E.jsx)(Q.Z,{checkboxTable:!0,thead:s,tbody:f,actions:[],customCssTr:"cursor-pointer",onClickTh:jt,checked:C})}),(0,E.jsxs)("div",{className:"flex justify-between p-4",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)(S.Z,{onClick:function(){var e=P.map((function(e){return{id:e.id,content:e.content,skills:e.skillName,topic:e.topicName,grade:e.gradeName,score:e.score}}));V(e),xt(!0)},children:"Save Questions"}),(0,E.jsx)(N(),{isOpen:ft,style:{top:"0",left:"0",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},contentLabel:"Example Modal",ariaHideApp:!1,children:(0,E.jsx)("div",{className:"h-full px-[20px] relative",children:(0,E.jsxs)("div",{className:"flex flex-col justify-between pt-8 h-full",children:[(0,E.jsxs)("div",{className:"",children:[(0,E.jsx)("span",{children:"Do you want add these questions?"}),(0,E.jsx)(Q.Z,{checkboxTable:!1,thead:s,tbody:U,actions:[],onClickTh:jt,checked:C})]}),(0,E.jsxs)("div",{className:"flex justify-between self-center w-64 mb-4",children:[(0,E.jsx)(S.Z,{onClick:gt,children:"Cancel"}),(0,E.jsx)(S.Z,{onClick:function(){n(P),l(),gt()},children:"Save"})]})]})})})]}),(0,E.jsx)(G(),{breakLabel:"...",nextLabel:(0,E.jsxs)("button",{children:["Next ",(0,E.jsx)("i",{className:"fas fa-angle-right"})]}),onPageChange:function(e){Ye(e.selected+1);var t=5*e.selected%o.length;st(t)},pageRangeDisplayed:1,marginPagesDisplayed:2,pageCount:$e,previousLabel:(0,E.jsxs)("button",{children:[(0,E.jsx)("i",{className:"fas fa-angle-left"})," Previous"]}),renderOnZeroPageCount:null,className:"flex flex-row text-gray-500 gap-7 justify-center font-semibold items-center",activeClassName:"bg-primary text-white flex justify-center items-center w-8 h-8 rounded-full shadow-lg"})]})]})})]})]})]})},U=(0,T.Z)(),V=function(e){var t=e.selectedGrade,n=e.selectedTopic,l=e.selectedSkills,s=e.listCurrentQuestion,i=e.onCloseModalGenerate,a=e.onUpdateGenerateQuestion,r=(0,b.UO)().assignmentId,o=(0,g.useState)(!1),u=(0,m.Z)(o,2),c=u[0],d=u[1],f=(0,g.useState)([]),x=(0,m.Z)(f,2),v=x[0],p=x[1],h=(0,g.useState)([]),w=(0,m.Z)(h,2),y=w[0],N=w[1],T=(0,g.useState)(),C=(0,m.Z)(T,2),I=C[0],q=C[1],M=(0,g.useState)(),P=(0,m.Z)(M,2),L=P[0],A=P[1],R=(0,g.useState)(),H=(0,m.Z)(R,2),O=H[0],D=H[1],G=(0,g.useState)(0),Q=(0,m.Z)(G,2),F=Q[0],B=Q[1],V=(0,g.useState)([]),W=(0,m.Z)(V,2),z=W[0],_=W[1],K=(0,g.useState)([]),Y=(0,m.Z)(K,2),J=Y[0],X=Y[1],$=(0,g.useState)([]),ee=(0,m.Z)($,2),te=ee[0],ne=ee[1],le=(0,g.useRef)(),se=(0,g.useRef)(),ie=(0,g.useRef)(),ae=(0,g.useRef)(l[0]),re=[{value:!1,label:"No"},{value:!0,label:"Yes"}],oe=function(e,t){return{value:e,label:t}};return(0,g.useEffect)((function(){U.get(Z.T5+"grade/teacher").then((function(e){for(var t=e.data,n=[],l=0;l<t.length;l++)n.push(oe(t[l].id,t[l].gradeName));_(n)}))}),[]),(0,g.useEffect)((function(){U.get(Z.T5+"topic/teacher/grade/".concat(I)).then((function(e){for(var t=e.data,n=[],l=0;l<t.length;l++)n.push(oe(t[l].id,t[l].topicName));X(n)}))}),[I]),(0,g.useEffect)((function(){U.get(Z.T5+"skill/topic/".concat(L)).then((function(e){for(var t=e.data,n=[],l=0;l<t.length;l++)n.push(oe(t[l].id,t[l].skillName));ne(n)}))}),[L]),(0,g.useEffect)((function(){if(z.length>0){var e=z.find((function(e){return(null===e||void 0===e?void 0:e.value)===t}));le.current.setValue(oe(null===e||void 0===e?void 0:e.value,null===e||void 0===e?void 0:e.label))}}),[t,z]),(0,g.useEffect)((function(){if(J.length>0){var e=J.find((function(e){return(null===e||void 0===e?void 0:e.value)===n}));se.current.setValue(oe(null===e||void 0===e?void 0:e.value,null===e||void 0===e?void 0:e.label))}}),[n,J]),(0,g.useEffect)((function(){if(0===(null===te||void 0===te?void 0:te.length)&&(ae.current=null),l&&te.length>0&&l.length>0&&ae.current!==l[0]){ae.current=l[0];var e=te.find((function(e){return(null===e||void 0===e?void 0:e.value)===l[0]}));e&&ie.current.setValue(oe(null===e||void 0===e?void 0:e.value,null===e||void 0===e?void 0:e.label))}}),[l,te]),(0,E.jsxs)("div",{className:"px-8 h-full relative",children:[(0,E.jsx)("i",{className:"fas fa-times text-2xl right-[8px] absolute cursor-pointer",onClick:i}),(0,E.jsx)("div",{className:"flex justify-center",children:(0,E.jsxs)("div",{className:" flex flex-col justify-between w-[720px] gap-4",children:[(0,E.jsx)("div",{className:"flex",children:(0,E.jsx)("h2",{className:"text-3xl font-[500]",children:"Generate questions for assignment"})}),(0,E.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,E.jsx)("span",{children:"Level "}),(0,E.jsx)(j.ZP,{placeholder:"Select levels...",closeMenuOnSelect:!1,isMulti:!0,options:[{value:"Easy",label:"Easy"},{value:"Medium",label:"Medium"},{value:"Hard",label:"Hard"}],onChange:function(e){p((function(){for(var t=[],n=0;n<e.length;++n)t.push(e[n].value);return t}))}})]}),(0,E.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,E.jsx)("span",{children:"Question type"}),(0,E.jsx)(j.ZP,{placeholder:"Select question types...",closeMenuOnSelect:!1,isMulti:!0,options:[{value:1,label:"Multi Choice"},{value:2,label:"True False"},{value:3,label:"Input"},{value:4,label:"Multi Select"}],onChange:function(e){N((function(){for(var t=[],n=0;n<e.length;++n)t.push(e[n].value);return t}))},className:"w-full"})]}),(0,E.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,E.jsx)("span",{children:"Quantity of question"}),(0,E.jsx)("input",{className:"outline-none border-b-2 py-1 px-2 justify-center items-center text-right w-[60px] duration-300 transition-all",value:F,onChange:function(e){B((function(){return Number(e.target.value)?Number(e.target.value):0}))}})]}),(0,E.jsxs)("div",{className:"flex flex-row",children:[(0,E.jsxs)("div",{className:"flex flex-row items-center gap-2 w-[50%]",children:[(0,E.jsx)("span",{className:"mr-1",children:"Grade"}),(0,E.jsx)(j.ZP,{ref:le,options:z,placeholder:"Select grade...",styles:{menuList:function(e){return(0,k.Z)((0,k.Z)({},e),{},{maxHeight:"180px"})}},onChange:function(e){return q(e.value)},className:"w-[180px]"})]}),(0,E.jsxs)("div",{className:"flex flex-row items-center gap-2 w-[50%]",children:[(0,E.jsx)("span",{children:"Topic"}),(0,E.jsx)(j.ZP,{ref:se,options:J,styles:{menuList:function(e){return(0,k.Z)((0,k.Z)({},e),{},{maxHeight:"180px"})}},placeholder:"Select topic...",onChange:function(e){return A(e.value)},className:"w-full"})]})]}),(0,E.jsxs)("div",{className:"flex flex-row gap-6",children:[(0,E.jsx)("span",{className:"flex items-center",children:"Skills"}),(0,E.jsx)("div",{children:(0,E.jsx)(j.ZP,{ref:ie,placeholder:"Select question types...",closeMenuOnSelect:!1,isMulti:!0,options:te,onChange:function(e){D((function(){for(var t=[],n=0;n<e.length;++n)t.push(e[n].value);return t}))},className:"min-w-[452px] max-w-[452px]"})})]}),(0,E.jsxs)("div",{className:"flex flex-row gap-2 items-center mb-5",children:[(0,E.jsx)("span",{children:"Would you like a hint?"}),(0,E.jsx)(j.ZP,{options:re,defaultValue:re[0],onChange:function(e){return d(e.value)},className:"w-[180px]"})]}),(0,E.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,E.jsx)(S.Z,{className:"btn btn-primary w-[50%]",onClick:function(){var e=s.map((function(e){return e.id})),t={assignmentId:r,numberQuestion:F,levels:v||[],isHint:c,questionTypes:y||[],skillIds:O||[],topicId:L,gradeId:I,currentQuestions:e||[]};U.post(Z.T5+"assignment-question/generate",t).then((function(e){a(e.data),i()}))},children:"Generate"})})]})})]})},W=n(8215),z=n(6906);function _(e,t,n){return t.substring(0,e)+n+t.substring(e,null===t||void 0===t?void 0:t.length)}var K={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},Y=(0,T.Z)(),J=function(){var e=[{value:1,label:"Multi Choice"},{value:2,label:"True False"},{value:3,label:"Input"},{value:4,label:"Multi Select"}],t=(0,b.UO)(),n=t.skillId,y=t.classId,k=t.assignmentId,T=(0,g.useState)({}),C=(0,m.Z)(T,2),I=C[0],q=C[1];(0,g.useEffect)((function(){q((function(e){return e.skillId=n,e.classId=y,e.assignmentId=k,e}))}),[n,y,k]),(0,g.useEffect)((function(){Y.get(Z.T5+"skill/".concat(n)).then((function(e){q((function(t){var n,l;return t.gradeId=null===(n=e.data)||void 0===n?void 0:n.gradeId,t.topicId=null===(l=e.data)||void 0===l?void 0:l.topicId,t}))}))}),[n]);var M=(0,b.s0)(),D=(0,g.useState)(""),G=(0,m.Z)(D,2),Q=G[0],F=G[1],U=(0,g.useState)([]),J=(0,m.Z)(U,2),X=J[0],$=J[1],ee=(0,g.useState)(10),te=(0,m.Z)(ee,2),ne=te[0],le=te[1],se=(0,g.useState)(e[0]),ie=(0,m.Z)(se,2),ae=ie[0],re=ie[1],oe=(0,g.useState)(!1),ue=(0,m.Z)(oe,2),ce=ue[0],de=ue[1],fe=(0,g.useState)(!1),xe=(0,m.Z)(fe,2),ve=xe[0],pe=xe[1],he=(0,g.useState)(!1),me=(0,m.Z)(he,2),ge=me[0],je=me[1],we=(0,g.useState)(""),be=(0,m.Z)(we,2),ye=be[0],Ne=be[1],Ze=(0,g.useState)({multiChoice:[{isTrue:!1,answer:""},{isTrue:!1,answer:""},{isTrue:!1,answer:""},{isTrue:!1,answer:""}],multiSelect:[],input:[],trueFalse:[]}),Se=(0,m.Z)(Ze,2),ke=Se[0],Te=Se[1],Ce=[{value:"Easy",label:"Easy"},{value:"Medium",label:"Medium"},{value:"Hard",label:"Hard"}],Ie=(0,g.useState)(""),qe=(0,m.Z)(Ie,2),Ee=qe[0],Me=qe[1],Pe=(0,g.useReducer)((function(e){return e+1}),0),Le=(0,m.Z)(Pe,2)[1],Ae=(0,g.useState)({}),Re=(0,m.Z)(Ae,2),He=Re[0],Oe=Re[1],De=(0,g.useState)({}),Ge=(0,m.Z)(De,2),Qe=Ge[0],Fe=Ge[1],Be=(0,g.useState)([]),Ue=(0,m.Z)(Be,2),Ve=Ue[0],We=Ue[1],ze=(0,g.useState)(Ce[0]),_e=(0,m.Z)(ze,2),Ke=_e[0],Ye=_e[1],Je=(0,g.useState)(""),Xe=(0,m.Z)(Je,2),$e=Xe[0],et=Xe[1],tt=(0,g.useState)(0),nt=(0,m.Z)(tt,2),lt=nt[0],st=nt[1],it=(0,g.useState)(0),at=(0,m.Z)(it,2),rt=at[0],ot=at[1],ut=(0,g.useState)(0),ct=(0,m.Z)(ut,2),dt=ct[0],ft=ct[1],xt=(0,g.useState)(0),vt=(0,m.Z)(xt,2),pt=vt[0],ht=vt[1],mt=(0,g.useState)(0),gt=(0,m.Z)(mt,2),jt=gt[0],wt=gt[1],bt=(0,g.useState)(!1),yt=(0,m.Z)(bt,2),Nt=yt[0],Zt=yt[1],St=(0,g.useState)(!1),kt=(0,m.Z)(St,2),Tt=kt[0],Ct=kt[1],It=function(){Me(""),le(10),F(""),Ne(""),je(!1),re(e[0]),Te({multiChoice:[{isTrue:!1,answer:""},{isTrue:!1,answer:""},{isTrue:!1,answer:""},{isTrue:!1,answer:""}],multiSelect:[],input:[],trueFalse:[]}),Ye(Ce[0]),Le()},qt=function(){var e=(0,p.Z)((0,v.Z)().mark((function e(t){var n,l,s;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.isTrial,l={assignmentName:$e,doTime:pt,dateDue:dt,passScore:rt,totalScore:lt,redo:jt},e.next=4,Y.put(Z.T5+"assignment/".concat(k),l);case 4:return s=X.map((function(e){return e.id})),e.next=7,Y.put(Z.T5+"assignment-question/assignment/".concat(k),{questionIds:s});case 7:if(!y){e.next=12;break}return e.next=10,Y.put(Z.T5+"class-assignment/class/".concat(y,"/assignment/").concat(k),{dueDay:dt});case 10:return e.next=12,Y.put(Z.T5+"student-assignment/assignment/".concat(k,"/class/").concat(y,"/date-due"),{dueDay:dt});case 12:if(!n){e.next=16;break}return e.next=15,Y.put(Z.T5+"teacher-assignment/teacher/assignment/".concat(k,"/trial"));case 15:return e.abrupt("return",M("/assignment/".concat(k,"/question")));case 16:return e.abrupt("return",M(-1));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Et=function(e,t){return{value:e,label:t}},Mt=(0,g.useState)([]),Pt=(0,m.Z)(Mt,2),Lt=Pt[0],At=Pt[1],Rt=(0,g.useState)([]),Ht=(0,m.Z)(Rt,2),Ot=Ht[0],Dt=Ht[1],Gt=(0,g.useState)([]),Qt=(0,m.Z)(Gt,2),Ft=Qt[0],Bt=Qt[1],Ut=function(t){Me(null===t||void 0===t?void 0:t.id),F(null===t||void 0===t?void 0:t.content),""!==(null===t||void 0===t?void 0:t.hint)?(je(!0),Ne(null===t||void 0===t?void 0:t.hint)):(je(!1),Ne("")),Te(null===t||void 0===t?void 0:t.option),le(null===t||void 0===t?void 0:t.score),re(e[(null===t||void 0===t?void 0:t.questionTypeId)-1]),Ye(Ce.find((function(e){return e.label===(null===t||void 0===t?void 0:t.level)}))),Oe(Lt.find((function(e){return e.value===(null===t||void 0===t?void 0:t.gradeId)}))),Fe(Ot.find((function(e){return e.value===(null===t||void 0===t?void 0:t.topicId)}))),We([Ft&&Ft.find((function(e){return e.value===(null===t||void 0===t?void 0:t.skillIds[0])}))])};(0,g.useEffect)((function(){Y.get(Z.T5+"grade/teacher").then((function(e){for(var t=e.data,n=[],l=0;l<t.length;l++)n.push(Et(t[l].id,t[l].gradeName));At(n)}))}),[]),(0,g.useEffect)((function(){He&&Y.get(Z.T5+"topic/teacher/grade/".concat(null===He||void 0===He?void 0:He.value)).then((function(e){for(var t=e.data,n=[],l=0;l<t.length;l++)n.push(Et(t[l].id,t[l].topicName));Dt(n)}))}),[He]),(0,g.useEffect)((function(){Qe&&Y.get(Z.T5+"skill/topic/".concat(null===Qe||void 0===Qe?void 0:Qe.value)).then((function(e){for(var t=e.data,n=[],l=0;l<t.length;l++)n.push(Et(t[l].id,t[l].skillName));Bt(n)}))}),[Qe]),(0,g.useEffect)((function(){Y.get(Z.T5+"assignment-question/assignment/".concat(k)).then((function(e){var t=e.data;$(t.map((function(e){return{id:null===e||void 0===e?void 0:e.questionId,content:null===e||void 0===e?void 0:e.content,hint:null===e||void 0===e?void 0:e.hint,score:null===e||void 0===e?void 0:e.score,option:null===e||void 0===e?void 0:e.option,level:null===e||void 0===e?void 0:e.level,questionTypeId:null===e||void 0===e?void 0:e.questionTypeId,teacherId:null===e||void 0===e?void 0:e.teacherId,gradeId:null===e||void 0===e?void 0:e.gradeId,topicId:null===e||void 0===e?void 0:e.topicId,skillIds:null===e||void 0===e?void 0:e.skillIds}})))}))}),[k]);var Vt=(0,g.useRef)(null);(0,g.useEffect)((function(){document.querySelector("#formula").setValue(String.raw(l||(l=(0,x.Z)(["\begin{multline}\n    "],["\\begin{multline}\n    "])))+Q+String.raw(s||(s=(0,x.Z)(["\n    end{multline}"],["\n    \\end{multline}"]))))}),[Q]);var Wt=function(e){var t="";"fraction"===e&&(t=String.raw(i||(i=(0,x.Z)(["\frac{x1}{x2}"],["\\frac{x1}{x2}"])))),"squareRoot"===e&&(t=String.raw(a||(a=(0,x.Z)(["sqrt{x}"],["\\sqrt{x}"])))),"sin"===e&&(t=String.raw(r||(r=(0,x.Z)(["sin{x}"],["\\sin{x}"])))),"cos"===e&&(t=String.raw(o||(o=(0,x.Z)(["cos{x}"],["\\cos{x}"])))),"tan"===e&&(t=String.raw(u||(u=(0,x.Z)(["\tan{x}"],["\\tan{x}"])))),"text"===e&&(t=String.raw(c||(c=(0,x.Z)(["\text{Example}"],["\\text{Example}"])))),"pow"===e&&(t="x^1"),"degree"===e&&(t=String.raw(d||(d=(0,x.Z)(["degree"],["\\degree"])))),F(_(Vt.current.selectionStart,Q,t))},zt=function(e){"Enter"===e.key&&F(_(Vt.current.selectionStart,Q,String.raw(f||(f=(0,x.Z)(["\\"],["\\\\"])))))},_t=(0,g.useState)(!1),Kt=(0,m.Z)(_t,2),Yt=Kt[0],Jt=Kt[1];return(0,g.useEffect)((function(){X.reduce((function(e,t){return e+t.score}),0)>lt&&(st(X.reduce((function(e,t){return e+t.score}),0)),Jt(!1)),X.reduce((function(e,t){return e+t.score}),0)===parseInt(lt)?Jt(!1):Jt(!0)}),[X,lt]),(0,E.jsx)("div",{className:"flex flex-col items-center gap-7 justify-center h-full",children:(0,E.jsxs)("div",{className:"flex flex-row gap-7 justify-center w-full h-fit",children:[(0,E.jsxs)("div",{className:"w-[800px] bg-white rounded-lg shadow-lg flex flex-col justify-between my-4 px-10 py-5",children:[(0,E.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,E.jsx)("div",{className:"h-[88px]",children:(0,E.jsx)(W.Z,{assignmentInfo:I,levelOption:Ce,listGrade:Lt,setListGrade:At,listTopic:Ot,setListTopic:Dt,listSkill:Ft,setListSkill:Bt,setSelectedSkills:We,selectedSkills:Ve,setSelectedLevel:Ye,selectedLevel:Ke,setSelectedGrade:Oe,selectedGrade:He,setSelectedTopic:Fe,selectedTopic:Qe,handleScore:function(e){var t=Math.max(0,Math.min(100,Number(e.target.value)));le(t)},score:ne})}),(0,E.jsx)("math-field",{id:"formula",style:{whiteSpace:"initial",fontSize:"20px",outline:"none",padding:"0.5rem 1.5rem",userSelect:"none",width:"100%",maxHeight:"150px",overflowWrap:"break-word",fontFamily:"Poppins"},readonly:!0}),ge&&(0,E.jsxs)("div",{className:"px-6 py-3 text-white flex flex-row gap-4 h-fit items-baseline bg-primary rounded-md w-full",children:[(0,E.jsx)("i",{className:"far fa-lightbulb"}),(0,E.jsx)("span",{className:"whitespace-normal break-words w-[90%]",children:ye||"Hint"})]}),(0,E.jsx)("span",{className:"text-primary text-sm px-2",children:"* \\\\ is for next line"}),(0,E.jsxs)("div",{className:"flex flex-row gap-5",children:[(0,E.jsx)(S.Z,{onClick:function(){return Wt("fraction")},children:(0,E.jsx)("i",{className:"fa-solid fa-percent"})}),(0,E.jsx)(S.Z,{onClick:function(){return Wt("squareRoot")},children:(0,E.jsx)("i",{className:"fa-solid fa-square-root-variable"})}),(0,E.jsx)(S.Z,{onClick:function(){return Wt("pow")},children:(0,E.jsx)("i",{className:"fa-solid fa-superscript"})}),(0,E.jsx)(S.Z,{onClick:function(){return Wt("degree")},children:"\xb0"}),(0,E.jsx)(S.Z,{onClick:function(){return Wt("sin")},children:"Sin"}),(0,E.jsx)(S.Z,{onClick:function(){return Wt("cos")},children:"Cos"}),(0,E.jsx)(S.Z,{onClick:function(){return Wt("tan")},children:"Tan"}),(0,E.jsx)(S.Z,{onClick:function(){return Wt("text")},className:"text-sm",children:"Write normal text"})]}),(0,E.jsx)("textarea",{id:"latex",ref:Vt,className:"outline-none focus:shadow-md duration-300 shadow-sm bg-gray-100 rounded-lg resize-none px-4 py-[0.5rem] h-36",onChange:function(e){return function(e){F(e.target.value)}(e)},onKeyDown:function(e){return zt(e)},value:Q||"",placeholder:"Type your question"}),(0,E.jsxs)("div",{className:"flex flex-row gap-5 items-baseline duration-500",children:[(0,E.jsxs)("div",{className:"flex flex-row items-baseline gap-5 h-[72px]",children:[(0,E.jsx)("input",{type:"checkbox",checked:ge,onClick:function(){return Ne("")},onChange:function(){je(!ge)},className:"hidden",id:"hint"}),(0,E.jsx)("label",{htmlFor:"hint",className:"cursor-pointer select-none py-1",children:ge?(0,E.jsx)("span",{className:"bg-primary rounded-md px-2 border-2 border-primary py-1 text-white duration-300",children:"Hint"}):(0,E.jsx)("span",{className:"bg-white rounded-md px-2 py-1 border-2 border-gray-500 duration-300",children:"Hint"})})]}),ge&&(0,E.jsx)(w.E.textarea,{layout:!0,maxLength:"250",placeholder:"Enter hint",value:ye||"",className:"outline-none border-b-2 duration-500 px-2 py-1 w-full resize-none overflow-y",onChange:function(e){Ne(e.target.value)}})]})]}),(0,E.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,E.jsx)("span",{className:"font-medium text-xl",children:"Answers"}),(0,E.jsx)(j.ZP,{value:ae||"",defaultValue:e[0],onChange:re,options:e,className:"w-44 transition-all"})]}),(0,E.jsx)("div",{className:"flex flex-col justify-center content-center min-h-[184px] my-2",children:1===(null===ae||void 0===ae?void 0:ae.value)?(0,E.jsx)(A.Z,{setAnswers:Te,answers:ke,questionType:ae}):2===(null===ae||void 0===ae?void 0:ae.value)?(0,E.jsx)(R.Z,{setAnswers:Te,answers:ke,questionType:ae}):3===(null===ae||void 0===ae?void 0:ae.value)?(0,E.jsx)(H.Z,{setAnswers:Te,answers:ke,questionType:ae}):4===(null===ae||void 0===ae?void 0:ae.value)?(0,E.jsx)(O.Z,{setAnswers:Te,answers:ke,questionType:ae}):""}),ce&&(0,E.jsx)("span",{className:"text-red-500 self-end",children:"* Invalid answers"}),(0,E.jsx)("div",{className:"flex flex-row-reverse",children:(0,E.jsx)(S.Z,{className:"border-none shadow-lg",disabled:""===Q,onClick:function(){!function(){var e;if(1===(null===ae||void 0===ae?void 0:ae.value)){if(ke.multiChoice.reduce((function(e,t){return e.find((function(e){return e.answer===t.answer}))?e:e.concat([t])}),[]).length!==ke.multiChoice.length||ke.multiChoice.some((function(e){return""===e.answer})))return de(!0);if(!ke.multiChoice.some((function(e){return!0===e.isTrue})))return de(!0)}if(2===(null===ae||void 0===ae?void 0:ae.value)&&!ke.trueFalse.some((function(e){return!0===e.isTrue})))return de(!0);if(3===(null===ae||void 0===ae?void 0:ae.value)&&!ke.input[0])return de(!0);if(4===(null===ae||void 0===ae?void 0:ae.value)){if(ke.multiSelect.reduce((function(e,t){return e.find((function(e){return e.answer===t.answer}))?e:e.concat([t])}),[]).length!==ke.multiSelect.length||ke.multiSelect.some((function(e){return""===e.answer})))return de(!0);if(!ke.multiChoice.some((function(e){return!0===e.isTrue})))return de(!0)}if(de(!1),X.find((function(e){return e.id===Ee}))){var t,n=X.findIndex((function(e){return e.id===Ee})),l={content:Q,option:ke,hint:ye,score:ne,level:null===Ke||void 0===Ke?void 0:Ke.label,skillIds:[null===(t=Ve[0])||void 0===t?void 0:t.value],questionTypeId:null===ae||void 0===ae?void 0:ae.value};return console.log("Question update",l),void Y.put(Z.T5+"question/".concat(Ee),l).then((function(e){var t,l,s,i,a,r,o,u,c,d,f;X[n]={id:null===(t=e.data)||void 0===t?void 0:t.id,content:null===(l=e.data)||void 0===l?void 0:l.content,hint:null===(s=e.data)||void 0===s?void 0:s.hint,score:null===(i=e.data)||void 0===i?void 0:i.score,option:null===(a=e.data)||void 0===a?void 0:a.option,level:null===(r=e.data)||void 0===r?void 0:r.level,questionTypeId:null===(o=e.data)||void 0===o?void 0:o.questionTypeId,teacherId:null===(u=e.data)||void 0===u?void 0:u.teacherId,gradeId:null===(c=e.data)||void 0===c?void 0:c.gradeId,topicId:null===(d=e.data)||void 0===d?void 0:d.topicId,skillIds:null===(f=e.data)||void 0===f?void 0:f.skillIds},$((0,h.Z)(X)),It()})).catch((function(e){return console.log(e)}))}var s={content:Q,option:ke,hint:ye,score:ne,level:null===Ke||void 0===Ke?void 0:Ke.label,skillIds:[null===(e=Ve[0])||void 0===e?void 0:e.value],questionTypeId:null===ae||void 0===ae?void 0:ae.value};Y.post(Z.T5+"question",s).then((function(e){var t,n,l,s,i,a,r,o,u,c,d,f={id:null===(t=e.data)||void 0===t?void 0:t.id,content:null===(n=e.data)||void 0===n?void 0:n.content,hint:null===(l=e.data)||void 0===l?void 0:l.hint,score:null===(s=e.data)||void 0===s?void 0:s.score,option:null===(i=e.data)||void 0===i?void 0:i.option,level:null===(a=e.data)||void 0===a?void 0:a.level,questionTypeId:null===(r=e.data)||void 0===r?void 0:r.questionTypeId,teacherId:null===(o=e.data)||void 0===o?void 0:o.teacherId,gradeId:null===(u=e.data)||void 0===u?void 0:u.gradeId,topicId:null===(c=e.data)||void 0===c?void 0:c.topicId,skillIds:null===(d=e.data)||void 0===d?void 0:d.skillIds};$([].concat((0,h.Z)(X),[f])),It()})).catch((function(e){return console.log(e)}))}()},children:Ee?"Save":"Create Question"})})]}),(0,E.jsxs)("div",{className:"flex flex-col my-4 gap-3",children:[(0,E.jsx)("div",{className:"bg-white w-[400px] p-7 rounded-lg shadow-lg flex flex-col justify-between",children:(0,E.jsx)(P,{setSelectedAssignmentName:et,setSelectedPassScore:ot,setSelectedTotalScore:st,setSelectedDueTime:ft,setSelectedDoTime:ht,setSelectedRedo:wt})}),(0,E.jsxs)("div",{className:"grow bg-white w-[400px] pb-7 rounded-lg shadow-lg flex flex-col justify-between",children:[(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{className:"flex justify-between px-10 pt-8",children:[(0,E.jsx)("span",{className:"font-medium text-xl",children:"Question list"}),(0,E.jsxs)("div",{className:"flex items-center",children:[(0,E.jsx)("span",{className:"text-primary cursor-pointer",onClick:function(){Zt(!0)},children:"Bank question"}),(0,E.jsx)(N(),{isOpen:Nt,style:{top:"0",left:"0",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},contentLabel:"Example Modal",ariaHideApp:!1,children:(0,E.jsx)(B,{questionsBank:X,onUpdateQuestionBank:function(e){$((0,h.Z)(e))},onCloseModalBank:function(){Zt(!1)}})})]})]}),(0,E.jsx)("div",{className:"h-[300px] rounded-sm mx-5 my-5 px-2 py-2 flex flex-col gap-4 overflow-y-auto duration-1000",children:X.map((function(e,t){return(0,E.jsx)(L.Z,{question:e,index:t,removeQuestionItem:function(){!function(e){var t=X.filter((function(t){return t.id!==e}));$(t),It()}(e.id)},handleReviewQuestion:Ut},e+t)}))})]}),(0,E.jsxs)("div",{className:"flex flex-col w-full justify-center items-center gap-5",children:[(0,E.jsx)("div",{className:"flex w-full items-center justify-center",children:(0,E.jsx)(S.Z,{className:"w-[80%] border-none shadow-lg",onClick:function(){Ct(!0)},children:"Generate question"})}),(0,E.jsx)(N(),{isOpen:Tt,style:K,contentLabel:"Example Modal",ariaHideApp:!1,children:(0,E.jsx)(V,{selectedGrade:He,selectedTopic:Qe,selectedSkills:Ve,listCurrentQuestion:X,onCloseModalGenerate:function(){Ct(!1)},onUpdateGenerateQuestion:function(e){$([].concat((0,h.Z)(X),(0,h.Z)(e)))}})}),(0,E.jsxs)("div",{className:"flex w-full items-center justify-center",children:[(0,E.jsx)(z.Z,{isOpen:ve,message:"If you want to trial these questions? Click yes.\r If you want to go back the last page click no.",yesConfirm:function(){return qt({isTrial:!0})},noConfirm:function(){return qt({isTrial:!1})}}),(0,E.jsx)(S.Z,{className:"w-[80%] border-none shadow-lg disabled:bg-gray-500",onClick:function(){return pe(!ve)},disabled:Yt,children:Yt?"Invalid total score":"Save"})]})]})]})]})]})})}}}]);
//# sourceMappingURL=497.33fc71ec.chunk.js.map