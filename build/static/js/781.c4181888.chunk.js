"use strict";(self.webpackChunktemplate_react_app=self.webpackChunktemplate_react_app||[]).push([[781],{4453:function(e,t,a){var s=a(1413),n=a(5987),r=(a(2791),a(184)),l=["children","className"];t.Z=function(e){var t=e.children,a=e.className,c=void 0===a?"":a,o=(0,n.Z)(e,l);return(0,r.jsx)("button",(0,s.Z)((0,s.Z)({className:"bg-primary py-2 px-5 rounded-lg border-2 text-white transition-all active:scale-90 cursor-pointer select-none hover:bg-opacity-90 text-center border-none ".concat(c," ")},o),{},{children:t}))}},2048:function(e,t,a){var s=a(1413),n=a(4165),r=a(5861),l=a(885),c=a(2791),o=a(3264),i=a.n(o),u=a(7948),d=a.n(u),p=a(4453),x=a(1134),f=a(4255),m=a(9085),h=(a(5462),a(1833)),v=a(3458),g=a(1756),b=a(4212),j=a(184),w=(0,b.Z)(),k={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}};t.Z=function(e){var t=e.isOpen,a=e.setIsOpen,o=e.edit,u=e.getClassOfTeacher,b=e.classInfo,N=e.setClassInfo,y=(0,x.cI)(),Z=y.register,C=y.handleSubmit,I=(0,c.useState)(!1),S=(0,l.Z)(I,2),T=S[0],_=S[1],O=(0,c.useState)([]),A=(0,l.Z)(O,2),E=A[0],D=A[1],R=c.useState([]),L=(0,l.Z)(R,2),Y=L[0],U=L[1],z=(0,c.useState)(),M=(0,l.Z)(z,2),F=M[0],P=M[1],V=function(e){return(0,m.Am)(e)},B=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(s){var r,l,c,i,d,p,x,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o||!b){e.next=27;break}if(e.t1=(null===Y||void 0===Y?void 0:Y.length)&&(null===(r=Y[0])||void 0===r?void 0:r.file),!e.t1){e.next=7;break}return e.next=6,w.post(v.T+"file/image",{image:(null===Y||void 0===Y?void 0:Y.length)&&(null===(l=Y[0])||void 0===l?void 0:l.file)},{headers:{"Content-Type":"multipart/form-data"}});case 6:e.t1=e.sent;case 7:if(e.t0=e.t1,e.t0){e.next=10;break}e.t0={data:b.classImg};case 10:return c=e.t0,i={className:s.className,classImg:c.data||""},e.prev=12,e.next=15,w.put(v.T+"class/".concat(b.id),i);case 15:V("Updated success"),e.next=21;break;case 18:e.prev=18,e.t2=e.catch(12),V("Update failed");case 21:return e.next=23,w.get(v.T+"class/".concat(b.id,"}"));case 23:d=e.sent,N(d.data),e.next=41;break;case 27:return e.next=29,w.post(v.T+"file/image",{image:(null===Y||void 0===Y?void 0:Y.length)&&(null===(p=Y[0])||void 0===p?void 0:p.file)},{headers:{"Content-Type":"multipart/form-data"}});case 29:return x=e.sent,f={className:s.className,classImg:x.data||"",year:"".concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+1),gradeId:F},e.prev=31,e.next=34,w.post(v.T+"class",f);case 34:V("Created success"),e.next=40;break;case 37:e.prev=37,e.t3=e.catch(31),V("Create failed");case 40:u();case 41:a(!t),e.next=48;break;case 44:e.prev=44,e.t4=e.catch(0),console.log(e.t4),401===e.t4.response.status&&_(!0);case 48:case"end":return e.stop()}}),e,null,[[0,44],[12,18],[31,37]])})));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){w.get(v.T+"grade").then((function(e){D(e.data)}))}),[]),(0,c.useEffect)((function(){U([{data_url:null===b||void 0===b?void 0:b.classImg}])}),[b]);return(0,j.jsxs)(d(),{isOpen:t,style:k,shouldCloseOnOverlayClick:!0,contentLabel:"Example Modal",ariaHideApp:!1,children:[(0,j.jsxs)("div",{className:"flex flex-col w-[500px] h-fit gap-5",children:[(0,j.jsxs)("span",{className:"text-2xl",children:[o?"Edit":"Create"," class"]}),(0,j.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:C(B),children:[(0,j.jsxs)("div",{className:"flex flex-col gap-2 px-2 w-full",children:[(0,j.jsx)("span",{className:"px-2",children:"Class name"}),(0,j.jsx)("input",(0,s.Z)((0,s.Z)({defaultValue:null===b||void 0===b?void 0:b.className,type:"text"},Z("className",{required:!0})),{},{placeholder:"Type in class name",className:"outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary"}))]}),o?(0,j.jsx)(j.Fragment,{}):(0,j.jsxs)("div",{className:"flex flex-col gap-2 px-2",children:[(0,j.jsx)("span",{className:"px-2",children:"Grade"}),(0,j.jsx)(f.ZP,{defaultValue:F,options:E,type:"text",placeholder:"Pick a grade",onChange:function(e){return P(e.id)},className:"min-w-[332px] bg-gray",getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.gradeName}})]}),(0,j.jsx)(i(),{value:Y,onChange:function(e){U(e)},dataURLKey:"data_url",children:function(e){var t,a=e.imageList,n=e.onImageUpload,r=e.onImageUpdate,l=e.dragProps;return(0,j.jsx)("div",(0,s.Z)((0,s.Z)({className:"flex items-center justify-center w-full",onClick:null!==a&&void 0!==a&&a.length?function(){return r(0)}:n},l),{},{children:(0,j.jsxs)("div",{className:"relative rounded-lg min-h-[100px] w-[80%] overflow-hidden flex items-center justify-center bg-center select-none cursor-pointer transition-all",children:[(0,j.jsx)("img",{src:(null===a||void 0===a?void 0:a.length)&&(null===(t=a[0])||void 0===t?void 0:t.data_url)||h,className:"h-[200px] w-full",alt:""}),(0,j.jsx)("label",{className:"absolute z-1 w-full text-transparent hover:text-white hover:bg-gray-800 flex justify-center items-center hover:bg-opacity-50 transition-all min-h-[300px] cursor-pointer",htmlFor:"image",children:(0,j.jsx)("span",{className:"text-2xl",children:"Pick an image"})})]})}))}}),(0,j.jsxs)("div",{className:"w-full flex flex-row-reverse gap-5",children:[(0,j.jsx)(p.Z,{onClick:function(){return a(!t)},children:"Cancel"}),(0,j.jsx)(p.Z,{type:"submit",children:o?"Save":"Create"})]})]})]}),(0,j.jsx)(g.Z,{isOpen:T})]})}},1756:function(e,t,a){var s=a(4165),n=a(5861),r=(a(2791),a(7948)),l=a.n(r),c=a(7689),o=a(3458),i=a(4212),u=a(4453),d=a(184),p=(0,i.Z)();t.Z=function(e){var t=e.isOpen,a=(0,c.s0)(),r=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.delete(o.T+"account/logout");case 3:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),a("/"),window.location.reload(),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),a("/"),window.location.reload();case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)(l(),{isOpen:t,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},contentLabel:"Example Modal",ariaHideApp:!1,children:(0,d.jsxs)("div",{className:"flex flex-col gap-4 w-[500px]",children:[(0,d.jsx)("span",{className:"text-2xl font-medium",children:"Session Expired"}),(0,d.jsx)("span",{children:"Your session has expired please login again, click the button bellow to go back login screen"}),(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(u.Z,{onClick:r,className:"w-[50%]",children:"Login"})})]})})}},4212:function(e,t,a){var s=a(4165),n=a(5861),r=a(4569),l=a.n(r),c=a(456),o=a(7689),i=a(3458),u=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("refresh_token"),e.next=4,l().post(i.T+"account/refresh-token",{},{headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();t.Z=function(){var e=l().create();return e.interceptors.request.use(function(){var e=(0,n.Z)((0,s.Z)().mark((function e(t){var a,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("access_token"))){e.next=19;break}if(n=(0,c.Z)(a),e.prev=3,!(n.exp<Date.now()/1e3)){e.next=13;break}return e.next=7,u();case 7:r=e.sent,localStorage.setItem("access_token",r.accessToken),localStorage.setItem("refresh_token",r.refreshToken),t.headers.Authorization="Bearer "+r.accessToken,e.next=14;break;case 13:t.headers.Authorization="Bearer "+a;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log(e),(0,o.s0)()("/")})),e}},1781:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var s=a(4165),n=a(5861),r=a(885),l=a(2791),c=a(7689),o=a(2426),i=a.n(o),u=a(3458),d=a(4453),p=a(184),x=function(e){var t=e.value,a=e.title,s=e.isScore,n=e.shadow,r=e.color,l=e.nav,o=(0,c.s0)().push,i=(0,c.s0)();return(0,p.jsxs)("div",{className:"min-w-[200px] h-[225px] bg-white rounded-md flex flex-col justify-between relative",children:[(0,p.jsx)("div",{className:"absolute min-w-[200px] h-[225px] -z-10 rounded-md -translate-x-3 -translate-y-2 ".concat(n)}),(0,p.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2 mt-16",children:[(0,p.jsx)("span",{className:"font-semibold text-2xl cursor-pointer",onClick:function(){o("/class-details/score")},children:a}),(0,p.jsxs)("span",{className:"text-4xl relative ".concat(r),children:[t,!0===s?(0,p.jsx)("span",{className:"absolute text-xl text-gray-400 translate-y-4",children:"/100"}):""]})]}),(0,p.jsx)("div",{className:"flex flex-row-reverse mx-4 mb-3",children:(0,p.jsx)("span",{className:"cursor-pointer",onClick:function(){i(l)},children:"View Details"})})]})},f=a(7948),m=a.n(f),h=a(4212),v=a(9085),g=(a(5462),(0,h.Z)()),b={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},j=function(e){var t=e.isOpen,a=e.setIsOpen,o=e.classId,i=(0,l.useState)(!1),x=(0,r.Z)(i,2),f=x[0],h=x[1],j=(0,c.s0)(),w=function(e){return(0,v.Am)(e)},k=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("delete this class"!==N.current.value){e.next=14;break}return e.prev=1,e.next=4,g.delete(u.T+"class/".concat(o));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),w("Delete failed please try again");case 9:a(!1),j("/class"),w("Deleted success"),e.next=16;break;case 14:N.current.focus(),h(!0);case 16:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),N=(0,l.useRef)(null);return(0,p.jsx)(m(),{isOpen:t,style:b,shouldCloseOnOverlayClick:!0,contentLabel:"Example Modal",ariaHideApp:!1,children:(0,p.jsxs)("div",{className:"flex flex-col gap-4 w-[500px]",children:[(0,p.jsx)("span",{className:"text-2xl font-medium",children:"Confirm delete class"}),(0,p.jsxs)("span",{className:"px-2",children:["Type in ",(0,p.jsx)("span",{className:"text-red-500",children:'"delete this class"'})," to confirm"]}),(0,p.jsx)("input",{ref:N,className:"px-3 py-2 ".concat(f?"outline-red-400":"outline-primary"," border border-gray-500 rounded-lg transition-all"),type:"text",placeholder:"Confirm"}),(0,p.jsxs)("div",{className:"flex flex-row-reverse mt-5 gap-5",children:[(0,p.jsx)(d.Z,{onClick:function(){a(!t)},children:"Cancel"}),(0,p.jsx)(d.Z,{onClick:k,children:"Confirm"})]})]})})},w=a(2048),k=(0,h.Z)(),N="https://img.freepik.com/premium-vector/students-classroom-teacher-near-blackboard-auditorium-teaches-maths-lesson-children-study-subject-kids-group-studying-elementary-primary-school-class-interior-cartoon-vector-flat-concept_176411-2393.jpg?w=2000",y=function(){var e=(0,c.s0)(),t=(0,c.UO)().classId,a=(0,l.useState)({}),o=(0,r.Z)(a,2),f=o[0],m=o[1],h=(0,l.useState)(!1),v=(0,r.Z)(h,2),g=v[0],b=v[1],y=(0,l.useState)(!1),Z=(0,r.Z)(y,2),C=Z[0],I=Z[1];return(0,l.useEffect)((function(){var a=function(){var t=(0,n.Z)((0,s.Z)().mark((function t(a){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get(u.T+"class/".concat(a,"}"));case 3:n=t.sent,m(n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(-1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();a(t)}),[t]),(0,p.jsx)("div",{className:"mt-8 mx-20 mb-5",children:(0,p.jsxs)("div",{className:"flex flex-col gap-7",children:[(0,p.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,p.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,p.jsx)("i",{className:"fas fa-caret-left text-xl font-bold"}),(0,p.jsx)("span",{className:"underline underline-offset-4 font-semibold cursor-pointer",onClick:function(){e("/class")},children:"All Classes"})]}),(0,p.jsxs)("div",{className:"flex flex-row gap-5",children:[(0,p.jsx)(d.Z,{onClick:function(){return b(!0)},className:"bg-red-500 text-white border-none shadow-lg relative flex flex-row justify-center items-center gap-3",children:"Delete Class"}),(0,p.jsx)(d.Z,{onClick:function(){I(!0)},className:"bg-white text-primary border-none shadow-lg relative flex flex-row justify-center items-center gap-3",children:"Edit Class"})]}),(0,p.jsx)(j,{isOpen:g,setIsOpen:b,classId:t}),(0,p.jsx)(w.Z,{isOpen:C,setIsOpen:I,classInfo:f,setClassInfo:m,edit:!0})]}),(0,p.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,p.jsx)("img",{src:(null===f||void 0===f?void 0:f.classImg)||N,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=N},alt:"",className:"w-[200px] h-[200px] rounded-full border-4 border-white shadow-2xl mb-5 object-cover"}),(0,p.jsx)("span",{className:"font-bold text-3xl my-3",children:null===f||void 0===f?void 0:f.className}),(0,p.jsxs)("span",{className:"",children:["Date created:"," ","".concat(i()(null===f||void 0===f?void 0:f.createdAt).format("MM/DD/YYYY"))]})]}),(0,p.jsxs)("div",{className:"px-16 flex flex-row gap-32 justify-center items-center",children:[(0,p.jsx)(x,{value:(null===f||void 0===f?void 0:f.numberAssignments)||0,title:"Exams",shadow:"teacherdetails__AScore",color:"text-[#00d4ff]",nav:"/class/".concat(t,"/exams")}),(0,p.jsx)(x,{value:(null===f||void 0===f?void 0:f.numberTopics)||0,title:"Topics",shadow:"teacherdetails__Topics",color:"text-[#9fff24]",nav:"/class/".concat(t,"/topic")}),(0,p.jsx)(x,{value:(null===f||void 0===f?void 0:f.numberStudents)||0,title:"Students",shadow:"teacherdetails__Students",color:"text-[#ff24cf78]",nav:"/class/".concat(t,"/manage-student")})]})]})})}},1833:function(e,t,a){e.exports=a.p+"static/media/classroom-background.4920a7bce675f9685560.jpg"}}]);
//# sourceMappingURL=781.c4181888.chunk.js.map