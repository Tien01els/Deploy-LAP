"use strict";(self.webpackChunktemplate_react_app=self.webpackChunktemplate_react_app||[]).push([[557],{4453:function(e,r,t){var a=t(1413),n=t(5987),s=(t(2791),t(184)),o=["children","className"];r.Z=function(e){var r=e.children,t=e.className,l=void 0===t?"":t,c=(0,n.Z)(e,o);return(0,s.jsx)("button",(0,a.Z)((0,a.Z)({className:"bg-primary py-2 px-5 rounded-lg border-2 text-white transition-all active:scale-90 cursor-pointer select-none hover:bg-opacity-90 text-center border-none ".concat(l," ")},c),{},{children:r}))}},6906:function(e,r,t){t(2791);var a=t(7948),n=t.n(a),s=t(4453),o=t(184);r.Z=function(e){var r=e.isOpen,t=e.message,a=e.yesConfirm,l=e.noConfirm;return(0,o.jsxs)(n(),{isOpen:r,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},shouldCloseOnOverlayClick:!0,contentLabel:"Example Modal",ariaHideApp:!1,children:[(0,o.jsxs)("div",{className:"flex flex-col gap-4 w-[500px]",children:[(0,o.jsx)("span",{className:"text-2xl font-medium",children:"Confirm"}),(0,o.jsx)("span",{children:t})]}),(0,o.jsxs)("div",{className:"flex flex-row-reverse mt-5 gap-5",children:[(0,o.jsx)(s.Z,{onClick:a,children:"Yes"}),(0,o.jsx)(s.Z,{onClick:function(){l()},children:"No"})]})]})}},1756:function(e,r,t){var a=t(4165),n=t(5861),s=(t(2791),t(7948)),o=t.n(s),l=t(7689),c=t(3458),i=t(4212),p=t(4453),d=t(184),x=(0,i.Z)();r.Z=function(e){var r=e.isOpen,t=(0,l.s0)(),s=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.delete(c.T+"account/logout");case 3:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),t("/"),window.location.reload(),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),t("/"),window.location.reload();case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)(o(),{isOpen:r,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},contentLabel:"Example Modal",ariaHideApp:!1,children:(0,d.jsxs)("div",{className:"flex flex-col gap-4 w-[500px]",children:[(0,d.jsx)("span",{className:"text-2xl font-medium",children:"Session Expired"}),(0,d.jsx)("span",{children:"Your session has expired please login again, click the button bellow to go back login screen"}),(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(p.Z,{onClick:s,className:"w-[50%]",children:"Login"})})]})})}},4212:function(e,r,t){var a=t(4165),n=t(5861),s=t(4569),o=t.n(s),l=t(456),c=t(7689),i=t(3458),p=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=localStorage.getItem("refresh_token"),e.next=4,o().post(i.T+"account/refresh-token",{},{headers:{Authorization:"Bearer ".concat(r)}});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();r.Z=function(){var e=o().create();return e.interceptors.request.use(function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var t,n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("access_token"))){e.next=19;break}if(n=(0,l.Z)(t),e.prev=3,!(n.exp<Date.now()/1e3)){e.next=13;break}return e.next=7,p();case 7:s=e.sent,localStorage.setItem("access_token",s.accessToken),localStorage.setItem("refresh_token",s.refreshToken),r.headers.Authorization="Bearer "+s.accessToken,e.next=14;break;case 13:r.headers.Authorization="Bearer "+t;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(r){return e.apply(this,arguments)}}(),(function(e){console.log(e),(0,c.s0)()("/")})),e}},4716:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var a=t(4165),n=t(5861),s=t(885),o=t(2791),l=t(4453),c=t(1413),i=t(7948),p=t.n(i),d=t(1134),x=t(4255),u=t(184),f={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},m=[{value:"1",label:"Admin"},{value:"2",label:"Teacher"},{value:"3",label:"Student"},{value:"4",label:"Parent"}],h=function(e){var r,t=e.isOpen,a=e.setIsOpen,n=e.edit,i=(0,d.cI)(),h=i.control,g=i.register,v=i.formState.errors,b=i.handleSubmit,j=i.watch,y=(0,o.useState)(!1),N=(0,s.Z)(y,2),w=N[0],k=N[1],Z=j("role");console.log(v.email),(0,o.useEffect)((function(){"3"===(null===Z||void 0===Z?void 0:Z.value)?k(!0):k(!1)}),[Z]);return(0,u.jsx)(p(),{id:"AccountManageModal",isOpen:t,style:f,shouldCloseOnOverlayClick:!0,contentLabel:"Example Modal",ariaHideApp:!1,children:(0,u.jsxs)("div",{className:"flex flex-col w-[500px] h-fit gap-5",children:[(0,u.jsx)("span",{className:"text-2xl",children:"Create account"}),(0,u.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:b((function(e){console.log(e)})),children:[(0,u.jsxs)("div",{className:"flex flex-col gap-2 px-2",children:[(0,u.jsx)("span",{className:"px-2",children:"Role"}),(0,u.jsx)(d.Qr,{name:"role",control:h,rules:{required:!0},render:function(e){var r=e.field;return(0,u.jsx)(x.ZP,(0,c.Z)((0,c.Z)({},r),{},{options:m,placeholder:"Pick a role"}))}})]}),w&&(0,u.jsxs)("div",{className:"flex flex-col gap-2 px-2 w-full",children:[(0,u.jsx)("span",{className:"px-2",children:"Parent id"}),(0,u.jsx)("input",(0,c.Z)((0,c.Z)({},g("parentId",{required:!0})),{},{placeholder:"Parent id",className:"outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary"}))]}),(0,u.jsxs)("div",{className:"flex flex-col gap-2 px-2 w-full",children:[(0,u.jsxs)("span",{className:"px-2 flex flex-row justify-between items-center",children:["Email","pattern"===(null===(r=v.email)||void 0===r?void 0:r.type)&&(0,u.jsx)("p",{role:"alert",className:"text-red-500 w-full text-right text-sm",children:"Wrong email format"})]}),(0,u.jsx)("input",(0,c.Z)((0,c.Z)({type:"text"},g("email",{required:"Email is required",pattern:{value:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/,message:"Please enter valid Email"}})),{},{placeholder:"Type in email",className:"outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary"}))]}),(0,u.jsxs)("div",{className:"flex flex-col gap-2 px-2 w-full",children:[(0,u.jsx)("span",{className:"px-2",children:"Password"}),(0,u.jsx)("input",(0,c.Z)((0,c.Z)({type:"password"},g("password",{required:!0})),{},{placeholder:"Type in password",className:"outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary"}))]}),(0,u.jsxs)("div",{className:"w-full flex flex-row-reverse gap-5",children:[(0,u.jsx)(l.Z,{onClick:function(){return a(!t)},children:"Cancel"}),(0,u.jsx)(l.Z,{type:"submit",children:n?"Save":"Create"})]})]})]})})},g=(t(3458),t(4212)),v=t(1756),b=t(6048),j=t.n(b),y=t(6906),N=[1,2,3,4,5,6,7,8,9,10,11,12,13,14],w=((0,g.Z)(),function(){var e=(0,o.useState)(!1),r=(0,s.Z)(e,2),t=r[0],c=r[1],i=(0,o.useState)(!1),p=(0,s.Z)(i,2),d=p[0],x=p[1],f=(0,o.useState)(!1),m=(0,s.Z)(f,2),g=m[0],b=m[1],w=(0,o.useState)(!1),k=(0,s.Z)(w,2),Z=k[0],C=(k[1],(0,o.useState)(0)),S=(0,s.Z)(C,2),O=S[0],A=S[1],I=O+9,_=N.slice(O,I),E=Math.ceil(N.length/9);return(0,o.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.Z,{isOpen:d,message:"Are you sure to ban this account ?",noConfirm:function(){return x(!1)},yesConfirm:function(){}}),(0,u.jsx)(y.Z,{isOpen:g,message:"Are you sure to remove this account ?",noConfirm:function(){return b(!1)},yesConfirm:function(){}}),(0,u.jsxs)("div",{className:"px-10 py-7 flex flex-col gap-5",children:[(0,u.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,u.jsx)("span",{className:"text-2xl font-[500] text-gray-600",children:"Manage Account"}),(0,u.jsx)(l.Z,{onClick:function(){c(!0)},children:"Add an account"}),(0,u.jsx)(h,{isOpen:t,setIsOpen:c})]}),(0,u.jsx)("div",{className:"overflow-x-auto h-[521px] relative shadow-md sm:rounded-lg",children:(0,u.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,u.jsx)("thead",{className:" text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Id"}),(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Email"}),(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Name"}),(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Active"}),(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Role"}),(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:(0,u.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,u.jsx)("tbody",{children:_.map((function(e){return(0,u.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[(0,u.jsx)("th",{scope:"row",className:"py-4 px-6",children:"1"}),(0,u.jsx)("th",{className:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:'Apple MacBook Pro 17"'}),(0,u.jsx)("td",{className:"py-4 px-6",children:"Sliver"}),(0,u.jsx)("td",{className:"py-4 px-6",children:"Laptop"}),(0,u.jsx)("td",{className:"py-4 px-6",children:"$2999"}),(0,u.jsxs)("td",{className:"py-4 px-6 text-right flex flex-row justify-between select-none",children:[(0,u.jsx)("span",{onClick:function(){var r;r=null===e||void 0===e?void 0:e.id,console.log(r),x(!0)},className:"font-medium text-orange-500 dark:text-blue-500 hover:cursor-pointer",children:"Ban"}),(0,u.jsx)("span",{onClick:function(){var r;r=null===e||void 0===e?void 0:e.id,console.log(r),b(!0)},className:"font-medium text-red-500 dark:text-blue-500 hover:cursor-pointer",children:"Remove"})]})]})}))})]})}),(0,u.jsx)(j(),{breakLabel:"...",onPageChange:function(e){var r=9*e.selected%N.length;A(r)},pageRangeDisplayed:5,pageCount:E,renderOnZeroPageCount:null,nextLabel:(0,u.jsxs)("button",{className:"flex flex-row items-center gap-3",children:["Next ",(0,u.jsx)("i",{className:"fas fa-angle-right text-xs"})]}),previousLabel:(0,u.jsxs)("button",{className:"flex flex-row items-center gap-3",children:[(0,u.jsx)("i",{className:"fas fa-angle-left text-xs"})," Previous"]}),className:"flex flex-row gap-5 items-center justify-center select-none",activeClassName:"bg-primary text-white flex justify-center items-center w-[40px] h-[40px] rounded-full shadow-lg"}),(0,u.jsx)(v.Z,{isOpen:Z})]})]})})}}]);
//# sourceMappingURL=557.492a574c.chunk.js.map