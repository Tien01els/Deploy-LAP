{"version":3,"file":"static/js/274.16d41f49.chunk.js","mappings":"mMAaA,IAXe,SAAC,GAA2C,IAAzCA,EAAwC,EAAxCA,SAAwC,IAA9BC,UAAAA,OAA8B,MAAlB,GAAkB,EAAXC,GAAW,YACtD,OACI,mCACID,UAAS,oKAA+JA,EAA/J,MACLC,GAFR,aAIKF,IAGZ,C,mKCDKG,GAAWC,EAAAA,EAAAA,KACXC,EAAe,CACnBC,QAAS,CACPC,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,gBAAiB,4BAEnBC,QAAS,CACPL,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRG,YAAa,OACbC,UAAW,wBACXC,OAAQ,OACRC,aAAc,MACdC,SAAU,qBA8Hd,IA1HkB,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,OAAQC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,IAAKC,EAAe,EAAfA,SACrCC,GAAWC,EAAAA,EAAAA,MAEjB,GAAkCC,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KAMMC,EAAkB,yCAAG,WAAOC,EAAcC,GAArB,kFAEV,UAATA,EAFmB,gCAGf3B,EAAS4B,IACbC,EAAAA,EAAO,gDACoCH,EADpC,WAJY,OAOvBN,EAAS,eAAD,OAAgBM,EAAhB,eAPe,gDASvBI,QAAQC,IAAR,MAC8B,MAA1B,KAAMC,SAASC,QAAgBT,GAAa,GAVzB,yDAAH,wDAoDxB,OACE,UAAC,IAAD,CACER,OAAQA,EACRkB,MAAOhC,EACPiC,aAAa,gBACbC,aAAa,EAJf,WAME,iBAAKtC,UAAU,8CAAf,WACE,iBAAMA,UAAU,yEAAhB,gBACGoB,QADH,IACGA,OADH,EACGA,EAAKmB,WAAWC,kBAEnB,iBAAKxC,UAAU,iBAAf,WACE,iBAAKA,UAAU,2CAAf,WACE,gBAAKA,UAAU,4EAAf,UACE,cAAGA,UAAU,wCAEf,mCAAOoB,QAAP,IAAOA,OAAP,EAAOA,EAAKmB,WAAWE,OAAvB,eAEF,iBAAKzC,UAAU,oCAAf,WACE,iBAAKA,UAAU,4EAAf,WACE,cAAGA,UAAU,wCAA2C,QAE1D,0BACG0C,IAAM,OAACtB,QAAD,IAACA,OAAD,EAACA,EAAKmB,WAAWI,SAASC,OAAO,gCAI9C,iBAAK5C,UAAU,iBAAf,WACE,iBAAKA,UAAU,2CAAf,WACE,gBAAKA,UAAU,4EAAf,UACE,cAAGA,UAAU,mDAEf,mCAAOoB,QAAP,IAAOA,OAAP,EAAOA,EAAKyB,2BAAZ,mBAEF,iBAAK7C,UAAU,mCAAf,WACE,gBAAKA,UAAU,4EAAf,UACE,cAAGA,UAAU,uCAEf,mDACgBoB,QADhB,IACgBA,OADhB,EACgBA,EAAKmB,WAAWO,UADhC,WAEG1B,QAFH,IAEGA,OAFH,EAEGA,EAAKmB,WAAWQ,WAAY,cAKnC,iBAAK/C,UAAU,mCAAf,WACE,gBAAKA,UAAU,4EAAf,UACE,cAAGA,UAAU,4CAEf,iBAAMA,UAAU,iBAAhB,4BAGJ,iBAAKA,UAAU,mCAAf,WACE,SAAC,IAAD,CAAQgD,QA7GO,WACnB7B,GAAU,EACX,EA2GK,oBA1FoC,KAAjC,OAAHC,QAAG,IAAHA,OAAA,EAAAA,EAAKyB,6BACA,wBAELxB,EACQ,OAAHD,QAAG,IAAHA,GAAAA,EAAK6B,cACV,SAAC,IAAD,CACED,QAAS,WACP1B,EAAS,eAAD,cAAgBF,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAKmB,WAAWW,GAAhC,WACT,EAHH,0BAQA,wBAGM,OAAH9B,QAAG,IAAHA,GAAAA,EAAK6B,cACV,SAAC,IAAD,CACED,QAAS,WACP1B,EAAS,eAAD,cAAgBF,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAKmB,WAAWW,GAAhC,WACT,EAHH,yBAOE,OAAC9B,QAAD,IAACA,GAAAA,EAAK+B,SAKR,SAAC,IAAD,CACEH,QAAS,kBAAMrB,EAAkB,OAACP,QAAD,IAACA,OAAD,EAACA,EAAKmB,WAAWW,GAAI,WAA7C,EADX,kCAJA,SAAC,IAAD,CAAQF,QAAS,kBAAMrB,EAAkB,OAACP,QAAD,IAACA,OAAD,EAACA,EAAKmB,WAAWW,GAAI,QAA7C,EAAjB,+BAoEA,SAAC,IAAD,CAAahC,OAAQO,MAG1B,C,8HClJgBtB,EAAAA,EAAAA,KA6DjB,IA5DoB,SAAC,GAAgB,IAAde,EAAa,EAAbA,OAqBbI,GAAWC,EAAAA,EAAAA,MACX6B,EAAY,yCAAG,4GAEPjD,EAAAA,EAAAA,OAAsB4B,EAAAA,EAAU,kBAFzB,OAGbsB,aAAaC,WAAW,gBACxBD,aAAaC,WAAW,iBACxBhC,EAAS,KACTiC,OAAOC,SAASC,SANH,gDAQbzB,QAAQC,IAAR,MACAoB,aAAaC,WAAW,gBACxBD,aAAaC,WAAW,iBACxBhC,EAAS,KACTiC,OAAOC,SAASC,SAZH,yDAAH,qDAelB,OACI,SAAC,IAAD,CACIvC,OAAQA,EACRkB,MAvCa,CACjB/B,QAAS,CACLC,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,gBAAiB,4BAErBC,QAAS,CACLL,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRG,YAAa,OACbC,UAAW,wBACXC,OAAQ,OACRC,aAAc,QAuBdqB,aAAa,gBACbC,aAAa,EAJjB,UAMI,iBAAKtC,UAAU,gCAAf,WACI,iBAAMA,UAAU,uBAAhB,8BACA,4HAIA,gBAAKA,UAAU,sBAAf,UACI,SAAC,IAAD,CAAQgD,QAASI,EAAcpD,UAAU,UAAzC,yBAOnB,C,+FC5DK0D,EAAY,yCAAG,2GAEXA,EAAeL,aAAaM,QAAQ,iBAFzB,SAGCC,IAAAA,KAChB7B,EAAAA,EAAO,wBACP,CAAC,EACD,CACE8B,QAAS,CAAEC,cAAc,UAAD,OAAYJ,MAPvB,cAGXK,EAHW,yBAUVA,EAAIC,MAVM,gCAajBhC,QAAQC,IAAR,MAbiB,yDAAH,qDA+ClB,IA9BuB,WACrB,IAAMgC,EAAcL,IAAAA,SA0BpB,OAzBAK,EAAYC,aAAaC,QAAQC,IAAjC,yCACE,WAAOC,GAAP,qFACQC,EAAcjB,aAAaM,QAAQ,iBAD3C,oBAGUY,GAAeC,EAAAA,EAAAA,GAAWF,GAHpC,WAKUC,EAAaE,IAAMC,KAAKC,MAAQ,KAL1C,iCAM6BjB,IAN7B,OAMckB,EANd,OAOQvB,aAAawB,QAAQ,eAAgBD,EAAON,aAC5CjB,aAAawB,QAAQ,gBAAiBD,EAAOlB,cAC7CW,EAAOR,QAAP,cAAkC,UAAYe,EAAON,YAT7D,wBAUaD,EAAOR,QAAP,cAAkC,UAAYS,EAV3D,0DAYMtC,QAAQC,IAAR,MAZN,iCAeSoC,GAfT,0DADF,uDAkBE,SAACS,GACC9C,QAAQC,IAAI6C,IACKvD,EAAAA,EAAAA,KACjBD,CAAS,IAEV,IAEI2C,CACR,C,8JCVD,EApCiB,SAAC,GAAuB,IAArB7C,EAAoB,EAApBA,IAAKC,EAAe,EAAfA,SACvB,GAA0CG,EAAAA,EAAAA,WAAS,GAAnD,eAAOuD,EAAP,KAAsBC,EAAtB,KAEA,OACE,iCACE,SAACC,EAAA,EAAD,CACE/D,OAAQ6D,EACR5D,UAAW6D,EACX5D,IAAKA,EACLC,SAAUA,KAEZ,iBACE2B,QAAS,kBAAMgC,GAAiB,EAAvB,EACThF,UAAU,kIAFZ,WAIE,iBAAMA,UAAU,kCAAhB,gBACGoB,QADH,IACGA,OADH,EACGA,EAAKmB,WAAWC,kBAEnB,kBAAMxC,UAAU,wBAAhB,WACE,cAAGA,UAAU,wBAA2B,KACxC,mCAAOoB,QAAP,IAAOA,OAAP,EAAOA,EAAKmB,WAAWE,OAAvB,eAEF,iBAAKzC,UAAU,gCAAf,WACE,kBAAMA,UAAU,wBAAhB,WACE,cAAGA,UAAU,2BAA8B,KAC3C,0BACG0C,IAAM,OAACtB,QAAD,IAACA,OAAD,EAACA,EAAKmB,WAAWI,SAASC,OAAO,6BAG5C,iBAAM5C,UAAU,wBAAhB,6BAKT,E,8BC/BKE,GAAWC,EAAAA,EAAAA,KA8FjB,EApFqB,SAAC,GAAkB,IAAhBkB,EAAe,EAAfA,SAChBiD,EAAcjB,aAAaM,QAAQ,gBACzC,GAAkCnC,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAO0D,EAAP,KAAmBC,EAAnB,KACA,GAA0B3D,EAAAA,EAAAA,UAAS,IAAnC,eAAO4D,EAAP,KAAcC,EAAd,KACA,GAAsC7D,EAAAA,EAAAA,UAAS,MAA/C,eAAO8D,EAAP,KAAoBC,EAApB,KAEMhB,GAAeiB,EAAAA,EAAAA,UAAQ,WAC3B,OAAOlB,IAAemB,EAAAA,EAAAA,GAAUnB,EACjC,GAAE,CAACA,IA0CJ,OAxCAoB,EAAAA,EAAAA,YAAU,WACR,GAAIrE,EAAU,CACZ,IAAMsE,EAAc,yCAAG,kHAEDzF,EAAS0F,IAAI7D,EAAAA,EAAU,kBAFtB,OAEbgC,EAFa,OAGnBwB,EAAexB,EAAIC,MAHA,gDAKnBhC,QAAQC,IAAR,MALmB,yDAAH,qDAQpB0D,GACD,CAEF,GAAE,KAEHD,EAAAA,EAAAA,YAAU,WACR,IAAMG,EAAoB,yCAAG,WAAOC,GAAP,yFAGrBzE,EAHqB,oBAInBiE,EAJmB,gCAKTpF,EAAS0F,IACnB7D,EAAAA,EAAO,gCACauD,QADb,IACaA,OADb,EACaA,EAAapC,GAD1B,yBACsCoC,QADtC,IACsCA,OADtC,EACsCA,EAAaQ,UAPvC,OAKrB/B,EALqB,sDAWX7D,EAAS0F,IACnB7D,EAAAA,EAAO,2CAAuC+D,IAZzB,QAWvB/B,EAXuB,eAezBsB,EAAStB,EAAIC,MAfY,kDAiBzBhC,QAAQC,IAAR,MAC8B,MAA1B,KAAMC,SAASC,QAAgBT,GAAa,GAlBvB,0DAAH,sDAqB1BmE,EAAoB,OAACtB,QAAD,IAACA,OAAD,EAACA,EAAcuB,QACpC,GAAE,QAACvB,QAAD,IAACA,OAAD,EAACA,EAAcuB,QAASzE,EAAUiE,KAGnC,iBAAKtF,UAAU,iCAAf,WACE,iBAAKA,UAAU,mDAAf,WACE,iBAAMA,UAAU,oCAAhB,oBACA,kBACE+F,KAAK,OACL/F,UAAU,0EACVgG,SAAU,SAACC,GAAD,OAAOd,EAAcc,EAAEC,OAAOC,MAA9B,EACVC,YAAY,mBAGhB,gBAAKpG,UAAU,wBAAf,WACI,OAACoF,QAAD,IAACA,IAAAA,EAAOiB,SACRjB,EACGkB,QAAO,SAAClF,GACP,MACiB,KAAf8D,GAAA,OACA9D,QADA,IACAA,GAAAA,EAAKmB,WAAWC,eACb+D,cACAC,SAAStB,EAAWqB,eAEhBnF,EACF,EACR,IACAqF,KAAI,SAACrF,EAAKsF,GACT,OAAO,SAAC,EAAD,CAAUtF,IAAKA,EAAaC,SAAUA,GAAbqF,EACjC,OAEP,SAACC,EAAA,EAAD,CAAazF,OAAQO,MAG1B,C","sources":["components/Button.js","components/Modals/ExamModal.js","components/Modals/TokenExpire.js","createAxiosJWT.js","components/Student/ExamCard.js","pages/StudentPages/StudentExams.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst Button = ({ children, className = '', ...rest }) => {\r\n    return (\r\n        <button\r\n            className={`bg-primary py-2 px-5 rounded-lg border-2 text-white transition-all active:scale-90 cursor-pointer select-none hover:bg-opacity-90 text-center border-none ${className} `}\r\n            {...rest}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import React, { useState } from 'react'\r\nimport Modal from 'react-modal'\r\nimport moment from 'moment'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport { API_URL } from '../../constant'\r\nimport createAxiosJWT from '../../createAxiosJWT'\r\nimport TokenExpire from './TokenExpire'\r\nimport Button from '../Button'\r\n\r\nconst axiosJWT = createAxiosJWT()\r\nconst customStyles = {\r\n  overlay: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(165, 165, 165, 0.6)',\r\n  },\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    overflow: 'unset !important',\r\n  },\r\n}\r\n\r\nconst ExamModal = ({ isOpen, setIsOpen, val, isParent }) => {\r\n  const navigate = useNavigate()\r\n\r\n  const [isExpired, setIsExpired] = useState(false)\r\n\r\n  const handleCancel = () => {\r\n    setIsOpen(false)\r\n  }\r\n\r\n  const handleDoAssignment = async (assignmentId, temp) => {\r\n    try {\r\n      if (temp === 'start')\r\n        await axiosJWT.put(\r\n          API_URL +\r\n            `student-assignment/student/assignment/${assignmentId}/start`,\r\n        )\r\n      navigate(`/assignment/${assignmentId}/question/`)\r\n    } catch (error) {\r\n      console.log(error)\r\n      if (error.response.status === 401) setIsExpired(true)\r\n    }\r\n  }\r\n\r\n  const renderAssignmentButton = () => {\r\n    if (val?.numberQuestionOfAssignment === 0) {\r\n      return <></>\r\n    }\r\n    if (isParent) {\r\n      return val?.dateComplete ? (\r\n        <Button\r\n          onClick={() => {\r\n            navigate(`/assignment/${val?.assignment.id}/result`)\r\n          }}\r\n        >\r\n          View Result\r\n        </Button>\r\n      ) : (\r\n        <></>\r\n      )\r\n    }\r\n    return val?.dateComplete ? (\r\n      <Button\r\n        onClick={() => {\r\n          navigate(`/assignment/${val?.assignment.id}/result`)\r\n        }}\r\n      >\r\n        View Result\r\n      </Button>\r\n    ) : !val?.dateEnd ? (\r\n      <Button onClick={() => handleDoAssignment(val?.assignment.id, 'start')}>\r\n        Do Assignment\r\n      </Button>\r\n    ) : (\r\n      <Button\r\n        onClick={() => handleDoAssignment(val?.assignment.id, 'continue')}\r\n      >\r\n        Continue Assignment\r\n      </Button>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      style={customStyles}\r\n      contentLabel=\"Example Modal\"\r\n      ariaHideApp={false}\r\n    >\r\n      <div className=\"flex flex-col gap-4 w-[500px] text-gray-500\">\r\n        <span className=\"text-2xl font-medium text-primary whitespace-normal break-words w-full\">\r\n          {val?.assignment.assignmentName}\r\n        </span>\r\n        <div className=\"flex flex-row \">\r\n          <div className=\"flex flex-row gap-3 items-center w-[50%]\">\r\n            <div className=\"bg-gray-100 flex items-center h-[30px] w-[30px] rounded-lg justify-center\">\r\n              <i className=\"fa-regular fa-clock text-primary\"></i>\r\n            </div>\r\n            <span>{val?.assignment.doTime} mins</span>\r\n          </div>\r\n          <div className=\"flex flex-row gap-3 items-center \">\r\n            <div className=\"bg-gray-100 flex items-center h-[30px] w-[30px] rounded-lg justify-center\">\r\n              <i className=\"fa-regular fa-calendar text-primary\"></i>{' '}\r\n            </div>\r\n            <span>\r\n              {moment(val?.assignment.dateDue).format('YYYY-MM-DD HH:mm:ss')}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-row \">\r\n          <div className=\"flex flex-row gap-3 items-center w-[50%]\">\r\n            <div className=\"bg-gray-100 flex items-center h-[30px] w-[30px] rounded-lg justify-center\">\r\n              <i className=\"fa-solid fa-clipboard-question text-primary\"></i>\r\n            </div>\r\n            <span>{val?.numberQuestionOfAssignment} question</span>\r\n          </div>\r\n          <div className=\"flex flex-row gap-3 items-center\">\r\n            <div className=\"bg-gray-100 flex items-center h-[30px] w-[30px] rounded-lg justify-center\">\r\n              <i className=\"fa-regular fa-star text-primary\"></i>\r\n            </div>\r\n            <span>\r\n              Pass score : {val?.assignment.passScore}/\r\n              {val?.assignment.totalScore}{' '}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-row gap-3 items-center\">\r\n          <div className=\"bg-gray-100 flex items-center h-[30px] w-[30px] rounded-lg justify-center\">\r\n            <i className=\"fa-brands fa-cloudsmith text-primary\"></i>\r\n          </div>\r\n          <span className=\" text-gray-500\"> status</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-row-reverse mt-5 gap-5\">\r\n        <Button onClick={handleCancel}>Cancel</Button>\r\n        {renderAssignmentButton()}\r\n      </div>\r\n      <TokenExpire isOpen={isExpired} />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ExamModal\r\n","import React from 'react';\r\nimport Modal from 'react-modal';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { API_URL } from '../../constant';\r\nimport createAxiosJWT from '../../createAxiosJWT';\r\nimport Button from '../Button';\r\n\r\nconst axiosJWT = createAxiosJWT();\r\nconst TokenExpire = ({ isOpen }) => {\r\n    const customStyles = {\r\n        overlay: {\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(165, 165, 165, 0.6)',\r\n        },\r\n        content: {\r\n            top: '50%',\r\n            left: '50%',\r\n            right: 'auto',\r\n            bottom: 'auto',\r\n            marginRight: '-50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n        },\r\n    };\r\n    const navigate = useNavigate();\r\n    const handleLogOut = async () => {\r\n        try {\r\n            await createAxiosJWT.delete(API_URL + 'account/logout');\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            navigate('/');\r\n            window.location.reload();\r\n        } catch (err) {\r\n            console.log(err);\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            navigate('/');\r\n            window.location.reload();\r\n        }\r\n    };\r\n    return (\r\n        <Modal\r\n            isOpen={isOpen}\r\n            style={customStyles}\r\n            contentLabel='Example Modal'\r\n            ariaHideApp={false}\r\n        >\r\n            <div className='flex flex-col gap-4 w-[500px]'>\r\n                <span className='text-2xl font-medium'>Session Expired</span>\r\n                <span>\r\n                    Your session has expired please login again, click the button bellow to go back\r\n                    login screen\r\n                </span>\r\n                <div className='flex justify-center'>\r\n                    <Button onClick={handleLogOut} className='w-[50%]'>\r\n                        Login\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default TokenExpire;\r\n","import axios from 'axios'\r\nimport jwt_decode from 'jwt-decode'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport { API_URL } from './constant'\r\n\r\nconst refreshToken = async () => {\r\n  try {\r\n    const refreshToken = localStorage.getItem('refresh_token')\r\n    const res = await axios.post(\r\n      API_URL + `account/refresh-token`,\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${refreshToken}` },\r\n      },\r\n    )\r\n    return res.data\r\n  } catch (err) {\r\n    // return navigation('/');\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst createAxiosJWT = () => {\r\n  const newInstance = axios.create()\r\n  newInstance.interceptors.request.use(\r\n    async (config) => {\r\n      const accessToken = localStorage.getItem('access_token')\r\n      if (accessToken) {\r\n        const decodedToken = jwt_decode(accessToken)\r\n        try {\r\n          if (decodedToken.exp < Date.now() / 1000) {\r\n            const tokens = await refreshToken()\r\n            localStorage.setItem('access_token', tokens.accessToken)\r\n            localStorage.setItem('refresh_token', tokens.refreshToken)\r\n            config.headers['Authorization'] = 'Bearer ' + tokens.accessToken\r\n          } else config.headers['Authorization'] = 'Bearer ' + accessToken\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n      return config\r\n    },\r\n    (err) => {\r\n      console.log(err)\r\n      const navigate = useNavigate()\r\n      navigate('/')\r\n      // return Promise.reject(err);\r\n    },\r\n  )\r\n  return newInstance\r\n}\r\n\r\nexport default createAxiosJWT\r\n","import React, { useState } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport ExamModal from '../Modals/ExamModal'\r\n\r\nconst ExamCard = ({ val, isParent }) => {\r\n  const [openExamModal, setOpenExamModal] = useState(false)\r\n\r\n  return (\r\n    <>\r\n      <ExamModal\r\n        isOpen={openExamModal}\r\n        setIsOpen={setOpenExamModal}\r\n        val={val}\r\n        isParent={isParent}\r\n      />\r\n      <div\r\n        onClick={() => setOpenExamModal(true)}\r\n        className=\"bg-white flex flex-col gap-3 w-[260px] rounded-lg px-3 py-3 select-none shadow-md hover:shadow-lg transition-all cursor-pointer\"\r\n      >\r\n        <span className=\"w-[230px] truncate text-primary\">\r\n          {val?.assignment.assignmentName}\r\n        </span>\r\n        <span className=\"text-xs text-gray-500\">\r\n          <i className=\"fa-regular fa-clock\"></i>{' '}\r\n          <span>{val?.assignment.doTime} mins</span>\r\n        </span>\r\n        <div className=\"flex flex-row justify-between\">\r\n          <span className=\"text-xs text-gray-500\">\r\n            <i className=\"fa-regular fa-calendar\"></i>{' '}\r\n            <span>\r\n              {moment(val?.assignment.dateDue).format('YYYY-MM-DD HH:mm:ss')}\r\n            </span>\r\n          </span>\r\n          <span className=\"text-xs text-gray-500\"> status</span>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ExamCard\r\n","import React, { useState, useEffect, useMemo } from 'react'\r\nimport jwtDecode from 'jwt-decode'\r\n\r\nimport ExamCard from '../../components/Student/ExamCard'\r\nimport { API_URL } from '../../constant'\r\nimport createAxiosJWT from '../../createAxiosJWT'\r\nimport TokenExpire from '../../components/Modals/TokenExpire'\r\n\r\nconst axiosJWT = createAxiosJWT()\r\n// const mock = [\r\n//     {\r\n//         assignmentName: 'Kiem tra',\r\n//         dateDue: '25/10/2022',\r\n//         doTime: '1000',\r\n//         totalScore: 100,\r\n//     },\r\n// ];\r\n\r\nconst StudentExams = ({ isParent }) => {\r\n  const accessToken = localStorage.getItem('access_token')\r\n  const [isExpired, setIsExpired] = useState(false)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [exams, setExams] = useState([])\r\n  const [studentInfo, setStudentInfo] = useState(null)\r\n\r\n  const decodedToken = useMemo(() => {\r\n    return accessToken && jwtDecode(accessToken)\r\n  }, [accessToken])\r\n\r\n  useEffect(() => {\r\n    if (isParent) {\r\n      const getStudentInfo = async () => {\r\n        try {\r\n          const res = await axiosJWT.get(API_URL + 'parent/student')\r\n          setStudentInfo(res.data)\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n      }\r\n      getStudentInfo()\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const getAllExamsOfStudent = async (classId) => {\r\n      try {\r\n        let res\r\n        if (isParent) {\r\n          if (studentInfo) {\r\n            res = await axiosJWT.get(\r\n              API_URL +\r\n                `parent/student/${studentInfo?.id}/class/${studentInfo?.classId}`,\r\n            )\r\n          }\r\n        } else {\r\n          res = await axiosJWT.get(\r\n            API_URL + `student-assignment/student/class/${classId}`,\r\n          )\r\n        }\r\n        setExams(res.data)\r\n      } catch (error) {\r\n        console.log(error)\r\n        if (error.response.status === 401) setIsExpired(true)\r\n      }\r\n    }\r\n    getAllExamsOfStudent(decodedToken?.classId)\r\n  }, [decodedToken?.classId, isParent, studentInfo])\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-5 px-10 py-5\">\r\n      <div className=\"flex flex-row items-center pr-20 justify-between\">\r\n        <span className=\"text-2xl font-[500] text-gray-600\">Exams</span>\r\n        <input\r\n          type=\"text\"\r\n          className=\"outline-none shadow focus:shadow-md px-3 py-2 rounded-lg transition-all\"\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          placeholder=\"Search ...\"\r\n        />\r\n      </div>\r\n      <div className=\"flex flex-wrap gap-10\">\r\n        {!!exams?.length &&\r\n          exams\r\n            .filter((val) => {\r\n              if (\r\n                searchTerm === '' ||\r\n                val?.assignment.assignmentName\r\n                  .toLowerCase()\r\n                  .includes(searchTerm.toLowerCase())\r\n              )\r\n                return val\r\n              return ''\r\n            })\r\n            .map((val, i) => {\r\n              return <ExamCard val={val} key={i} isParent={isParent} />\r\n            })}\r\n      </div>\r\n      <TokenExpire isOpen={isExpired} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default StudentExams\r\n"],"names":["children","className","rest","axiosJWT","createAxiosJWT","customStyles","overlay","position","top","left","right","bottom","backgroundColor","content","marginRight","transform","border","borderRadius","overflow","isOpen","setIsOpen","val","isParent","navigate","useNavigate","useState","isExpired","setIsExpired","handleDoAssignment","assignmentId","temp","put","API_URL","console","log","response","status","style","contentLabel","ariaHideApp","assignment","assignmentName","doTime","moment","dateDue","format","numberQuestionOfAssignment","passScore","totalScore","onClick","dateComplete","id","dateEnd","handleLogOut","localStorage","removeItem","window","location","reload","refreshToken","getItem","axios","headers","Authorization","res","data","newInstance","interceptors","request","use","config","accessToken","decodedToken","jwt_decode","exp","Date","now","tokens","setItem","err","openExamModal","setOpenExamModal","ExamModal","searchTerm","setSearchTerm","exams","setExams","studentInfo","setStudentInfo","useMemo","jwtDecode","useEffect","getStudentInfo","get","getAllExamsOfStudent","classId","type","onChange","e","target","value","placeholder","length","filter","toLowerCase","includes","map","i","TokenExpire"],"sourceRoot":""}