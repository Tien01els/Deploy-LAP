"use strict";(self.webpackChunktemplate_react_app=self.webpackChunktemplate_react_app||[]).push([[557],{4453:function(e,r,a){var t=a(1413),s=a(5987),n=(a(2791),a(184)),l=["children","className"];r.Z=function(e){var r=e.children,a=e.className,o=void 0===a?"":a,c=(0,s.Z)(e,l);return(0,n.jsx)("button",(0,t.Z)((0,t.Z)({className:"bg-primary py-2 px-5 rounded-lg border-2 text-white transition-all active:scale-90 cursor-pointer select-none hover:bg-opacity-90 text-center border-none ".concat(o," ")},c),{},{children:r}))}},1756:function(e,r,a){var t=a(4165),s=a(5861),n=(a(2791),a(7948)),l=a.n(n),o=a(7689),c=a(3458),i=a(4212),p=a(4453),d=a(184);(0,i.Z)();r.Z=function(e){var r=e.isOpen,a=(0,o.s0)(),n=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.delete(c.T+"account/logout");case 3:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),a("/"),window.location.reload(),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),a("/"),window.location.reload();case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)(l(),{isOpen:r,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},contentLabel:"Example Modal",ariaHideApp:!1,children:(0,d.jsxs)("div",{className:"flex flex-col gap-4 w-[500px]",children:[(0,d.jsx)("span",{className:"text-2xl font-medium",children:"Session Expired"}),(0,d.jsx)("span",{children:"Your session has expired please login again, click the button bellow to go back login screen"}),(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(p.Z,{onClick:n,className:"w-[50%]",children:"Login"})})]})})}},4212:function(e,r,a){var t=a(4165),s=a(5861),n=a(4569),l=a.n(n),o=a(456),c=a(7689),i=a(3458),p=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=localStorage.getItem("refresh_token"),e.next=4,l().post(i.T+"account/refresh-token",{},{headers:{Authorization:"Bearer ".concat(r)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();r.Z=function(){var e=l().create();return e.interceptors.request.use(function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){var a,s,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("access_token"))){e.next=19;break}if(s=(0,o.Z)(a),e.prev=3,!(s.exp<Date.now()/1e3)){e.next=13;break}return e.next=7,p();case 7:n=e.sent,localStorage.setItem("access_token",n.accessToken),localStorage.setItem("refresh_token",n.refreshToken),r.headers.Authorization="Bearer "+n.accessToken,e.next=14;break;case 13:r.headers.Authorization="Bearer "+a;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(r){return e.apply(this,arguments)}}(),(function(e){console.log(e),(0,c.s0)()("/")})),e}},4716:function(e,r,a){a.r(r),a.d(r,{default:function(){return y}});var t=a(4165),s=a(5861),n=a(885),l=a(2791),o=a(4453),c=a(1413),i=a(7948),p=a.n(i),d=a(1134),x=a(4255),u=a(184),h={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},m=[{value:"1",label:"Admin"},{value:"2",label:"Teacher"},{value:"3",label:"Student"},{value:"4",label:"Parent"}],f=function(e){var r,a=e.isOpen,t=e.setIsOpen,s=e.edit,i=(0,d.cI)(),f=i.control,g=i.register,b=i.formState.errors,y=i.handleSubmit,v=i.watch,j=(0,l.useState)(!1),N=(0,n.Z)(j,2),w=N[0],k=N[1],Z=v("role");console.log(b.email),(0,l.useEffect)((function(){"3"===(null===Z||void 0===Z?void 0:Z.value)?k(!0):k(!1)}),[Z]);return(0,u.jsx)(p(),{id:"AccountManageModal",isOpen:a,style:h,shouldCloseOnOverlayClick:!0,contentLabel:"Example Modal",ariaHideApp:!1,children:(0,u.jsxs)("div",{className:"flex flex-col w-[500px] h-fit gap-5",children:[(0,u.jsx)("span",{className:"text-2xl",children:"Create account"}),(0,u.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:y((function(e){console.log(e)})),children:[(0,u.jsxs)("div",{className:"flex flex-col gap-2 px-2",children:[(0,u.jsx)("span",{className:"px-2",children:"Role"}),(0,u.jsx)(d.Qr,{name:"role",control:f,rules:{required:!0},render:function(e){var r=e.field;return(0,u.jsx)(x.ZP,(0,c.Z)((0,c.Z)({},r),{},{options:m,placeholder:"Pick a role"}))}})]}),w&&(0,u.jsxs)("div",{className:"flex flex-col gap-2 px-2 w-full",children:[(0,u.jsx)("span",{className:"px-2",children:"Parent id"}),(0,u.jsx)("input",(0,c.Z)((0,c.Z)({},g("parentId",{required:!0})),{},{placeholder:"Parent id",className:"outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary"}))]}),(0,u.jsxs)("div",{className:"flex flex-col gap-2 px-2 w-full",children:[(0,u.jsxs)("span",{className:"px-2 flex flex-row justify-between items-center",children:["Email","pattern"===(null===(r=b.email)||void 0===r?void 0:r.type)&&(0,u.jsx)("p",{role:"alert",className:"text-red-500 w-full text-right text-sm",children:"Wrong email format"})]}),(0,u.jsx)("input",(0,c.Z)((0,c.Z)({type:"text"},g("email",{required:"Email is required",pattern:{value:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/,message:"Please enter valid Email"}})),{},{placeholder:"Type in email",className:"outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary"}))]}),(0,u.jsxs)("div",{className:"flex flex-col gap-2 px-2 w-full",children:[(0,u.jsx)("span",{className:"px-2",children:"Password"}),(0,u.jsx)("input",(0,c.Z)((0,c.Z)({type:"password"},g("password",{required:!0})),{},{placeholder:"Type in password",className:"outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary"}))]}),(0,u.jsxs)("div",{className:"w-full flex flex-row-reverse gap-5",children:[(0,u.jsx)(o.Z,{onClick:function(){return t(!a)},children:"Cancel"}),(0,u.jsx)(o.Z,{type:"submit",children:s?"Save":"Create"})]})]})]})})},g=a(4212),b=a(1756),y=((0,g.Z)(),function(){var e=(0,l.useState)(!1),r=(0,n.Z)(e,2),a=r[0],c=r[1],i=(0,l.useState)(!1),p=(0,n.Z)(i,2),d=p[0];p[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,u.jsxs)("div",{className:"px-10 py-7 flex flex-col gap-5",children:[(0,u.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,u.jsx)("span",{className:"text-2xl font-[500]",children:"Manage Account"}),(0,u.jsx)(o.Z,{onClick:function(){c(!0)},children:"Add an account"}),(0,u.jsx)(f,{isOpen:a,setIsOpen:c})]}),(0,u.jsx)("div",{className:"overflow-x-auto relative shadow-md sm:rounded-lg",children:(0,u.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,u.jsx)("thead",{className:" text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Id"}),(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Email"}),(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Name"}),(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Active"}),(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:"Role"}),(0,u.jsx)("th",{scope:"col",className:"py-3 px-6",children:(0,u.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[(0,u.jsx)("th",{scope:"row",className:"py-4 px-6",children:"1"}),(0,u.jsx)("th",{className:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:'Apple MacBook Pro 17"'}),(0,u.jsx)("td",{className:"py-4 px-6",children:"Sliver"}),(0,u.jsx)("td",{className:"py-4 px-6",children:"Laptop"}),(0,u.jsx)("td",{className:"py-4 px-6",children:"$2999"}),(0,u.jsx)("td",{className:"py-4 px-6 text-right",children:(0,u.jsx)("span",{className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"Edit"})})]}),(0,u.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[(0,u.jsx)("th",{scope:"row",className:"py-4 px-6",children:"1"}),(0,u.jsx)("th",{className:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:'Apple MacBook Pro 17"'}),(0,u.jsx)("td",{className:"py-4 px-6",children:"Sliver"}),(0,u.jsx)("td",{className:"py-4 px-6",children:"Laptop"}),(0,u.jsx)("td",{className:"py-4 px-6",children:"$2999"}),(0,u.jsx)("td",{className:"py-4 px-6 text-right",children:(0,u.jsx)("span",{className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"Edit"})})]}),(0,u.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[(0,u.jsx)("th",{scope:"row",className:"py-4 px-6",children:"1"}),(0,u.jsx)("th",{className:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:'Apple MacBook Pro 17"'}),(0,u.jsx)("td",{className:"py-4 px-6",children:"Sliver"}),(0,u.jsx)("td",{className:"py-4 px-6",children:"Laptop"}),(0,u.jsx)("td",{className:"py-4 px-6",children:"$2999"}),(0,u.jsx)("td",{className:"py-4 px-6 text-right",children:(0,u.jsx)("span",{className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"Edit"})})]})]})]})}),(0,u.jsx)(b.Z,{isOpen:d})]})})}}]);
//# sourceMappingURL=557.3387665c.chunk.js.map