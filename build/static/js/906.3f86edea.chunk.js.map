{"version":3,"file":"static/js/906.3f86edea.chunk.js","mappings":"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","sources":["components/Button.js","components/Modals/ConfirmModal.js","components/Modals/TokenExpire.js","createAxiosJWT.js","components/Modals/ManageAccountModal.js","components/Admin/AccountList.js","pages/AdminPages/ManageAccount.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst Button = ({ children, className = '', ...rest }) => {\r\n    return (\r\n        <button\r\n            className={`bg-primary py-2 px-5 rounded-lg border-2 text-white transition-all active:scale-90 cursor-pointer select-none hover:bg-opacity-90 text-center border-none ${className} `}\r\n            {...rest}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react'\r\nimport Modal from 'react-modal'\r\nimport Button from '../Button'\r\n\r\nconst ConfirmModal = ({ isOpen, message, yesConfirm, noConfirm }) => {\r\n  const customStyles = {\r\n    overlay: {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      backgroundColor: 'rgba(165, 165, 165, 0.6)',\r\n    },\r\n    content: {\r\n      top: '50%',\r\n      left: '50%',\r\n      right: 'auto',\r\n      bottom: 'auto',\r\n      marginRight: '-50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      border: 'none',\r\n      borderRadius: '8px',\r\n    },\r\n  }\r\n\r\n  const handleNoConfirm = () => {\r\n    noConfirm()\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      style={customStyles}\r\n      shouldCloseOnOverlayClick={true}\r\n      contentLabel=\"Example Modal\"\r\n      ariaHideApp={false}\r\n    >\r\n      <div className=\"flex flex-col gap-4 w-[500px]\">\r\n        <span className=\"text-2xl font-medium\">Confirm</span>\r\n        <span>{message}</span>\r\n      </div>\r\n      <div className=\"flex flex-row-reverse mt-5 gap-5\">\r\n        <Button onClick={yesConfirm}>Yes</Button>\r\n        <Button onClick={handleNoConfirm}>No</Button>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ConfirmModal\r\n","import React from 'react';\r\nimport Modal from 'react-modal';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { API_URL } from '../../constant';\r\nimport createAxiosJWT from '../../createAxiosJWT';\r\nimport Button from '../Button';\r\n\r\nconst axiosJWT = createAxiosJWT();\r\nconst TokenExpire = ({ isOpen }) => {\r\n    const customStyles = {\r\n        overlay: {\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(165, 165, 165, 0.6)',\r\n        },\r\n        content: {\r\n            top: '50%',\r\n            left: '50%',\r\n            right: 'auto',\r\n            bottom: 'auto',\r\n            marginRight: '-50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n        },\r\n    };\r\n    const navigate = useNavigate();\r\n    const handleLogOut = async () => {\r\n        try {\r\n            await axiosJWT.delete(API_URL + 'account/logout');\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            navigate('/');\r\n            window.location.reload();\r\n        } catch (err) {\r\n            console.log(err);\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            navigate('/');\r\n            window.location.reload();\r\n        }\r\n    };\r\n    return (\r\n        <Modal\r\n            isOpen={isOpen}\r\n            style={customStyles}\r\n            contentLabel='Example Modal'\r\n            ariaHideApp={false}\r\n        >\r\n            <div className='flex flex-col gap-4 w-[500px]'>\r\n                <span className='text-2xl font-medium'>Session Expired</span>\r\n                <span>\r\n                    Your session has expired please login again, click the button bellow to go back\r\n                    login screen\r\n                </span>\r\n                <div className='flex justify-center'>\r\n                    <Button onClick={handleLogOut} className='w-[50%]'>\r\n                        Login\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default TokenExpire;\r\n","import axios from 'axios'\r\nimport jwt_decode from 'jwt-decode'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport { API_URL } from './constant'\r\n\r\nconst refreshToken = async () => {\r\n  try {\r\n    const refreshToken = localStorage.getItem('refresh_token')\r\n    const res = await axios.post(\r\n      API_URL + `account/refresh-token`,\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${refreshToken}` },\r\n      },\r\n    )\r\n    return res.data\r\n  } catch (err) {\r\n    // return navigation('/');\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst createAxiosJWT = () => {\r\n  const newInstance = axios.create()\r\n  newInstance.interceptors.request.use(\r\n    async (config) => {\r\n      const accessToken = localStorage.getItem('access_token')\r\n      if (accessToken) {\r\n        const decodedToken = jwt_decode(accessToken)\r\n        try {\r\n          if (decodedToken.exp < Date.now() / 1000) {\r\n            const tokens = await refreshToken()\r\n            localStorage.setItem('access_token', tokens.accessToken)\r\n            localStorage.setItem('refresh_token', tokens.refreshToken)\r\n            config.headers['Authorization'] = 'Bearer ' + tokens.accessToken\r\n          } else config.headers['Authorization'] = 'Bearer ' + accessToken\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n      return config\r\n    },\r\n    (err) => {\r\n      console.log(err)\r\n      const navigate = useNavigate()\r\n      navigate('/')\r\n      // return Promise.reject(err);\r\n    },\r\n  )\r\n  return newInstance\r\n}\r\n\r\nexport default createAxiosJWT\r\n","import React, { useState } from 'react';\r\n\r\nimport Modal from 'react-modal';\r\nimport Button from '../Button';\r\nimport { Controller, useForm } from 'react-hook-form';\r\nimport Select from 'react-select';\r\nimport { useEffect } from 'react';\r\nimport { API_URL } from '../../constant';\r\nimport createAxiosJWT from '../../createAxiosJWT';\r\n\r\nconst axiosJWT = createAxiosJWT();\r\nconst customStyles = {\r\n    overlay: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: 'rgba(165, 165, 165, 0.6)',\r\n    },\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: '-50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        border: 'none',\r\n        borderRadius: '8px',\r\n    },\r\n};\r\n\r\nconst options = [\r\n    { value: '1', label: 'Admin' },\r\n    { value: '2', label: 'Teacher' },\r\n    { value: '3', label: 'Student' },\r\n    { value: '4', label: 'Parent' },\r\n];\r\n\r\nconst ManageAccountModal = ({ isOpen, setIsOpen, edit, getAllAccounts }) => {\r\n    const {\r\n        control,\r\n        register,\r\n        formState: { errors },\r\n        handleSubmit,\r\n        watch,\r\n    } = useForm();\r\n\r\n    const [isStudentRole, setIsStudentRole] = useState(false);\r\n\r\n    let watchRole = watch('role');\r\n\r\n    useEffect(() => {\r\n        if (watchRole?.value === '3') {\r\n            setIsStudentRole(true);\r\n        } else {\r\n            setIsStudentRole(false);\r\n        }\r\n    }, [watchRole]);\r\n\r\n    const createAccount = async (data) => {\r\n        try {\r\n            const account = {\r\n                email: data.email,\r\n                password: data.password,\r\n                roleId: data.role.value,\r\n                parentId: isStudentRole && data.parentId,\r\n            };\r\n            await axiosJWT.post(API_URL + 'account/create-account', account);\r\n            setIsOpen(false);\r\n            getAllAccounts();\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n    return (\r\n        <Modal\r\n            id='AccountManageModal'\r\n            isOpen={isOpen}\r\n            style={customStyles}\r\n            shouldCloseOnOverlayClick={true}\r\n            contentLabel='Example Modal'\r\n            ariaHideApp={false}\r\n        >\r\n            <div className='flex flex-col w-[500px] h-fit gap-5'>\r\n                <span className='text-2xl'>Create account</span>\r\n                <form className='flex flex-col gap-5' onSubmit={handleSubmit(createAccount)}>\r\n                    <div className='flex flex-col gap-2 px-2'>\r\n                        <span className='px-2'>Role</span>\r\n                        <Controller\r\n                            name='role'\r\n                            control={control}\r\n                            rules={{ required: true }}\r\n                            render={({ field }) => (\r\n                                <Select {...field} options={options} placeholder='Pick a role' />\r\n                            )}\r\n                        />\r\n                    </div>\r\n                    {isStudentRole && (\r\n                        <div className='flex flex-col gap-2 px-2 w-full'>\r\n                            <span className='px-2'>Parent id</span>\r\n                            <input\r\n                                {...register('parentId', { required: true })}\r\n                                placeholder='Parent id'\r\n                                className='outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary'\r\n                            />\r\n                        </div>\r\n                    )}\r\n                    {/* class name */}\r\n                    <div className='flex flex-col gap-2 px-2 w-full'>\r\n                        <span className='px-2 flex flex-row justify-between items-center'>\r\n                            Email\r\n                            {errors.email?.type === 'pattern' && (\r\n                                <p role='alert' className='text-red-500 w-full text-right text-sm'>\r\n                                    Wrong email format\r\n                                </p>\r\n                            )}\r\n                        </span>\r\n\r\n                        <input\r\n                            type='text'\r\n                            {...register('email', {\r\n                                required: 'Email is required',\r\n                                pattern: {\r\n                                    // eslint-disable-next-line no-useless-escape\r\n                                    value: /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/,\r\n                                    message: 'Please enter valid Email',\r\n                                },\r\n                            })}\r\n                            placeholder='Type in email'\r\n                            className='outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary'\r\n                        />\r\n                    </div>\r\n                    <div className='flex flex-col gap-2 px-2 w-full'>\r\n                        <span className='px-2'>Password</span>\r\n                        <input\r\n                            type='password'\r\n                            {...register('password', { required: true })}\r\n                            placeholder='Type in password'\r\n                            className='outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary'\r\n                        />\r\n                    </div>\r\n                    {/* role */}\r\n\r\n                    {/*  */}\r\n                    <div className='w-full flex flex-row-reverse gap-5'>\r\n                        <Button type='submit'>{edit ? `Save` : `Create`}</Button>\r\n                        <Button onClick={() => setIsOpen(!isOpen)}>Cancel</Button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default ManageAccountModal;\r\n","import React from 'react';\r\nimport ConfirmModal from '../Modals/ConfirmModal';\r\nimport createAxiosJWT from '../../createAxiosJWT';\r\nimport { API_URL } from '../../constant';\r\nimport { useState } from 'react';\r\nconst axiosJWT = createAxiosJWT();\r\n\r\nconst AccountList = ({ val, getAllAccounts, setIsExpired }) => {\r\n    const [banModal, setBanModal] = useState(false);\r\n    const [removeModal, setRemoveModal] = useState(false);\r\n\r\n    const handleBan = async () => {\r\n        try {\r\n            await axiosJWT.put(API_URL + `account/${val?.id}/change-active`);\r\n            setBanModal(false);\r\n            getAllAccounts();\r\n        } catch (error) {\r\n            console.log(error);\r\n            if (error.response.status === 401) setIsExpired(true);\r\n        }\r\n    };\r\n\r\n    const handleRemove = async () => {\r\n        try {\r\n            await axiosJWT.delete(API_URL + `account/${val?.id}`);\r\n            setRemoveModal(false);\r\n            getAllAccounts();\r\n        } catch (error) {\r\n            console.log(error);\r\n            if (error.response.status === 401) setIsExpired(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ConfirmModal\r\n                isOpen={banModal}\r\n                message='Are you sure to ban this account ?'\r\n                noConfirm={() => setBanModal(false)}\r\n                yesConfirm={() => handleBan()}\r\n            />\r\n            <ConfirmModal\r\n                isOpen={removeModal}\r\n                message='Are you sure to remove this account ?'\r\n                noConfirm={() => setRemoveModal(false)}\r\n                yesConfirm={() => handleRemove()}\r\n            />\r\n            <tr\r\n                key={val?.id}\r\n                className='bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600'\r\n            >\r\n                <th scope='row' className='py-4 px-6'>\r\n                    {val?.id}\r\n                </th>\r\n                <th className='py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white'>\r\n                    {val?.email}\r\n                </th>\r\n                {/* <td className='py-4 px-6'>{val?.fullName}</td> */}\r\n                <td className={`py-4 px-6 ${val?.isActive ? `text-green-500` : `text-red-500`}`}>\r\n                    {val?.isActive ? `Active` : `Banned`}\r\n                </td>\r\n                <td className='py-4 px-6'>{val?.role.role}</td>\r\n                <td className='py-4 px-6 text-right flex flex-row justify-between select-none'>\r\n                    <span\r\n                        onClick={() => {\r\n                            setBanModal(true);\r\n                        }}\r\n                        className='font-medium text-orange-500 dark:text-blue-500 hover:cursor-pointer'\r\n                    >\r\n                        {val?.isActive ? `Ban` : `Unban`}\r\n                    </span>\r\n\r\n                    <span\r\n                        onClick={() => {\r\n                            setRemoveModal(true);\r\n                        }}\r\n                        className='font-medium text-red-500 dark:text-blue-500 hover:cursor-pointer'\r\n                    >\r\n                        Remove\r\n                    </span>\r\n                </td>\r\n            </tr>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AccountList;\r\n","import React, { useState, useEffect } from 'react'\r\nimport Button from '../../components/Button'\r\nimport ManageAccountModal from '../../components/Modals/ManageAccountModal'\r\nimport { API_URL } from '../../constant'\r\nimport createAxiosJWT from '../../createAxiosJWT'\r\nimport TokenExpire from '../../components/Modals/TokenExpire'\r\nimport ReactPaginate from 'react-paginate'\r\nimport AccountList from '../../components/Admin/AccountList'\r\n\r\n// const items = [\r\n//     {\r\n//         email: 'jhuriche0@indiegogo.com',\r\n//         fullName: 'Jarrett Huriche',\r\n//         active: false,\r\n//         role: 'Parent',\r\n//     },\r\n//     {\r\n//         email: 'cturle1@independent.co.uk',\r\n//         fullName: 'Chick Turle',\r\n//         active: false,\r\n//         role: 'Admin',\r\n//     },\r\n//     {\r\n//         email: 'apeniman2@miitbeian.gov.cn',\r\n//         fullName: 'Abba Peniman',\r\n//         active: true,\r\n//         role: 'Student',\r\n//     },\r\n//     {\r\n//         email: 'mwitherup3@latimes.com',\r\n//         fullName: 'Mirabella Witherup',\r\n//         active: true,\r\n//         role: 'Admin',\r\n//     },\r\n//     {\r\n//         email: 'imacvicar4@toplist.cz',\r\n//         fullName: 'Iormina MacVicar',\r\n//         active: true,\r\n//         role: 'Parent',\r\n//     },\r\n//     {\r\n//         email: 'blere5@google.ca',\r\n//         fullName: 'Brittaney Lere',\r\n//         active: false,\r\n//         role: 'Student',\r\n//     },\r\n//     {\r\n//         email: 'lsmeal6@1688.com',\r\n//         fullName: 'Liva Smeal',\r\n//         active: false,\r\n//         role: 'Parent',\r\n//     },\r\n//     {\r\n//         email: 'nbrambley7@arstechnica.com',\r\n//         fullName: 'Neal Brambley',\r\n//         active: true,\r\n//         role: 'Teacher',\r\n//     },\r\n//     {\r\n//         email: 'lhemms8@usda.gov',\r\n//         fullName: 'Liva Hemms',\r\n//         active: true,\r\n//         role: 'Student',\r\n//     },\r\n//     {\r\n//         email: 'mketch9@columbia.edu',\r\n//         fullName: 'Matt Ketch',\r\n//         active: false,\r\n//         role: 'Student',\r\n//     },\r\n//     {\r\n//         email: 'drysdalea@surveymonkey.com',\r\n//         fullName: 'Dianne Rysdale',\r\n//         active: true,\r\n//         role: 'Teacher',\r\n//     },\r\n//     {\r\n//         email: 'leskellb@nsw.gov.au',\r\n//         fullName: 'Lilias Eskell',\r\n//         active: false,\r\n//         role: 'Student',\r\n//     },\r\n// ];\r\n\r\nconst axiosJWT = createAxiosJWT()\r\nconst ManageAccount = () => {\r\n  const [openManageAccount, setOpenManageAccount] = useState(false)\r\n\r\n  const [isExpired, setIsExpired] = useState(false)\r\n\r\n  //\r\n  const [accounts, setAccounts] = useState([])\r\n  const [itemOffset, setItemOffset] = useState(0)\r\n\r\n  const endOffset = itemOffset + 9\r\n  const currentItems = accounts.slice(itemOffset, endOffset)\r\n  const pageCount = Math.ceil(accounts.length / 9)\r\n\r\n  const handlePageClick = (event) => {\r\n    const newOffset = (event.selected * 9) % accounts.length\r\n    setItemOffset(newOffset)\r\n  }\r\n\r\n  const getAllAccounts = async () => {\r\n    try {\r\n      const res = await axiosJWT.get(API_URL + `account`)\r\n      setAccounts(res.data?.data)\r\n    } catch (error) {\r\n      console.log(error)\r\n      if (error.response.status === 401) setIsExpired(true)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    getAllAccounts()\r\n  }, [])\r\n\r\n  console.log(accounts)\r\n\r\n  return (\r\n    <>\r\n      <div className=\"px-10 py-7 flex flex-col gap-5\">\r\n        <div className=\"flex flex-row items-center justify-between\">\r\n          <span className=\"text-2xl font-[500] text-gray-600\">\r\n            Manage Account\r\n          </span>\r\n          <Button\r\n            onClick={() => {\r\n              setOpenManageAccount(true)\r\n            }}\r\n          >\r\n            Add an account\r\n          </Button>\r\n          <ManageAccountModal\r\n            isOpen={openManageAccount}\r\n            setIsOpen={setOpenManageAccount}\r\n            getAllAccounts={getAllAccounts}\r\n          />\r\n        </div>\r\n        <div className=\"overflow-x-auto h-[521px] relative shadow-md sm:rounded-lg\">\r\n          <table className=\"w-full text-sm text-left text-gray-500 dark:text-gray-400\">\r\n            <thead className=\" text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\">\r\n              <tr>\r\n                <th scope=\"col\" className=\"py-3 px-6\">\r\n                  Id\r\n                </th>\r\n                <th scope=\"col\" className=\"py-3 px-6\">\r\n                  Email\r\n                </th>\r\n                {/* <th scope='col' className='py-3 px-6'>\r\n                                    Name\r\n                                </th> */}\r\n                <th scope=\"col\" className=\"py-3 px-6\">\r\n                  Active\r\n                </th>\r\n                <th scope=\"col\" className=\"py-3 px-6\">\r\n                  Role\r\n                </th>\r\n                <th scope=\"col\" className=\"py-3 px-6\">\r\n                  <span className=\"sr-only\">Edit</span>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {currentItems?.map((val, i) => {\r\n                return (\r\n                  <AccountList\r\n                    key={i}\r\n                    val={val}\r\n                    getAllAccounts={getAllAccounts}\r\n                    setIsExpired={setIsExpired}\r\n                  />\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <ReactPaginate\r\n          breakLabel=\"...\"\r\n          onPageChange={handlePageClick}\r\n          pageRangeDisplayed={5}\r\n          pageCount={pageCount}\r\n          renderOnZeroPageCount={null}\r\n          nextLabel={\r\n            <button className=\"flex flex-row items-center gap-3\">\r\n              Next <i className=\"fas fa-angle-right text-xs\"></i>\r\n            </button>\r\n          }\r\n          previousLabel={\r\n            <button className=\"flex flex-row items-center gap-3\">\r\n              <i className=\"fas fa-angle-left text-xs\"></i> Previous\r\n            </button>\r\n          }\r\n          className=\"flex flex-row gap-5 items-center justify-center select-none\"\r\n          activeClassName=\"bg-primary text-white flex justify-center items-center w-[40px] h-[40px] rounded-full shadow-lg\"\r\n        />\r\n        <TokenExpire isOpen={isExpired} />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ManageAccount\r\n"],"names":["children","className","rest","isOpen","message","yesConfirm","noConfirm","style","overlay","position","top","left","right","bottom","backgroundColor","content","marginRight","transform","border","borderRadius","shouldCloseOnOverlayClick","contentLabel","ariaHideApp","onClick","axiosJWT","createAxiosJWT","navigate","useNavigate","handleLogOut","delete","API_URL","localStorage","removeItem","window","location","reload","console","log","refreshToken","getItem","axios","headers","Authorization","res","data","newInstance","interceptors","request","use","config","accessToken","decodedToken","jwt_decode","exp","Date","now","tokens","setItem","err","customStyles","options","value","label","setIsOpen","edit","getAllAccounts","useForm","control","register","errors","formState","handleSubmit","watch","useState","isStudentRole","setIsStudentRole","watchRole","useEffect","createAccount","account","email","password","roleId","role","parentId","post","id","onSubmit","name","rules","required","render","field","placeholder","type","pattern","Button","val","setIsExpired","banModal","setBanModal","removeModal","setRemoveModal","handleBan","put","response","status","handleRemove","ConfirmModal","scope","isActive","openManageAccount","setOpenManageAccount","isExpired","accounts","setAccounts","itemOffset","setItemOffset","endOffset","currentItems","slice","pageCount","Math","ceil","length","get","map","i","breakLabel","onPageChange","event","newOffset","selected","pageRangeDisplayed","renderOnZeroPageCount","nextLabel","previousLabel","activeClassName","TokenExpire"],"sourceRoot":""}