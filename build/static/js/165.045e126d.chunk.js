"use strict";(self.webpackChunktemplate_react_app=self.webpackChunktemplate_react_app||[]).push([[165],{4453:function(e,t,n){var s=n(1413),a=n(5987),i=(n(2791),n(184)),r=["children","className"];t.Z=function(e){var t=e.children,n=e.className,o=void 0===n?"":n,l=(0,a.Z)(e,r);return(0,i.jsx)("button",(0,s.Z)((0,s.Z)({className:"bg-primary py-2 px-5 rounded-lg border-2 text-white transition-all active:scale-90 cursor-pointer select-none hover:bg-opacity-90 text-center border-none ".concat(o," ")},l),{},{children:t}))}},6906:function(e,t,n){n(2791);var s=n(7948),a=n.n(s),i=n(4453),r=n(184);t.Z=function(e){var t=e.isOpen,n=e.message,s=e.yesConfirm,o=e.noConfirm;return(0,r.jsxs)(a(),{isOpen:t,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},shouldCloseOnOverlayClick:!0,contentLabel:"Example Modal",ariaHideApp:!1,children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4 w-[500px]",children:[(0,r.jsx)("span",{className:"text-2xl font-medium",children:"Confirm"}),(0,r.jsx)("span",{children:n})]}),(0,r.jsxs)("div",{className:"flex flex-row-reverse mt-5 gap-5",children:[(0,r.jsx)(i.Z,{onClick:s,children:"Yes"}),(0,r.jsx)(i.Z,{onClick:function(){o()},children:"No"})]})]})}},8093:function(e,t,n){var s=n(4165),a=n(5861),i=n(885),r=n(2791),o=n(7948),l=n.n(o),c=n(2426),u=n.n(c),d=n(7689),x=n(3458),p=n(4212),f=n(1756),m=n(4453),v=n(184),h=(0,p.Z)(),g={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px",overflow:"unset !important"}};t.Z=function(e){var t=e.isOpen,n=e.setIsOpen,o=e.val,c=e.isParent,p=(0,d.s0)(),j=(0,r.useState)(!1),w=(0,i.Z)(j,2),b=w[0],k=w[1],N=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"start"!==n){e.next=4;break}return e.next=4,h.put(x.T+"student-assignment/student/assignment/".concat(t,"/start"));case 4:p("/assignment/".concat(t,"/question/")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),401===e.t0.response.status&&k(!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,v.jsxs)(l(),{isOpen:t,style:g,contentLabel:"Example Modal",ariaHideApp:!1,children:[(0,v.jsxs)("div",{className:"flex flex-col gap-4 w-[500px] text-gray-500",children:[(0,v.jsx)("span",{className:"text-2xl font-medium text-primary whitespace-normal break-words w-full",children:null===o||void 0===o?void 0:o.assignment.assignmentName}),(0,v.jsxs)("div",{className:"flex flex-row ",children:[(0,v.jsxs)("div",{className:"flex flex-row gap-3 items-center w-[50%]",children:[(0,v.jsx)("div",{className:"bg-gray-100 flex items-center h-[30px] w-[30px] rounded-lg justify-center",children:(0,v.jsx)("i",{className:"fa-regular fa-clock text-primary"})}),(0,v.jsxs)("span",{children:[null===o||void 0===o?void 0:o.assignment.doTime," mins"]})]}),(0,v.jsxs)("div",{className:"flex flex-row gap-3 items-center ",children:[(0,v.jsxs)("div",{className:"bg-gray-100 flex items-center h-[30px] w-[30px] rounded-lg justify-center",children:[(0,v.jsx)("i",{className:"fa-regular fa-calendar text-primary"})," "]}),(0,v.jsx)("span",{children:u()(null===o||void 0===o?void 0:o.assignment.dateDue).format("YYYY-MM-DD HH:mm:ss")})]})]}),(0,v.jsxs)("div",{className:"flex flex-row ",children:[(0,v.jsxs)("div",{className:"flex flex-row gap-3 items-center w-[50%]",children:[(0,v.jsx)("div",{className:"bg-gray-100 flex items-center h-[30px] w-[30px] rounded-lg justify-center",children:(0,v.jsx)("i",{className:"fa-solid fa-clipboard-question text-primary"})}),(0,v.jsxs)("span",{children:[null===o||void 0===o?void 0:o.numberQuestionOfAssignment," question"]})]}),(0,v.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,v.jsx)("div",{className:"bg-gray-100 flex items-center h-[30px] w-[30px] rounded-lg justify-center",children:(0,v.jsx)("i",{className:"fa-regular fa-star text-primary"})}),(0,v.jsxs)("span",{children:["Pass score : ",null===o||void 0===o?void 0:o.assignment.passScore,"/",null===o||void 0===o?void 0:o.assignment.totalScore," "]})]})]}),(0,v.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,v.jsx)("div",{className:"bg-gray-100 flex items-center h-[30px] w-[30px] rounded-lg justify-center",children:(0,v.jsx)("i",{className:"fa-brands fa-cloudsmith text-primary"})}),(0,v.jsx)("span",{className:" text-gray-500",children:" status"})]})]}),(0,v.jsxs)("div",{className:"flex flex-row-reverse mt-5 gap-5",children:[(0,v.jsx)(m.Z,{onClick:function(){n(!1)},children:"Cancel"}),0===(null===o||void 0===o?void 0:o.numberQuestionOfAssignment)?(0,v.jsx)(v.Fragment,{}):c?null!==o&&void 0!==o&&o.dateComplete?(0,v.jsx)(m.Z,{onClick:function(){p("/assignment/".concat(null===o||void 0===o?void 0:o.assignment.id,"/result"))},children:"View Result"}):(0,v.jsx)(v.Fragment,{}):null!==o&&void 0!==o&&o.dateComplete?(0,v.jsx)(m.Z,{onClick:function(){p("/assignment/".concat(null===o||void 0===o?void 0:o.assignment.id,"/result"))},children:"View Result"}):null!==o&&void 0!==o&&o.dateEnd?(0,v.jsx)(m.Z,{onClick:function(){return N(null===o||void 0===o?void 0:o.assignment.id,"continue")},children:"Continue Assignment"}):(0,v.jsx)(m.Z,{onClick:function(){return N(null===o||void 0===o?void 0:o.assignment.id,"start")},children:"Do Assignment"})]}),(0,v.jsx)(f.Z,{isOpen:b})]})}},1756:function(e,t,n){var s=n(4165),a=n(5861),i=(n(2791),n(7948)),r=n.n(i),o=n(7689),l=n(3458),c=n(4212),u=n(4453),d=n(184);(0,c.Z)();t.Z=function(e){var t=e.isOpen,n=(0,o.s0)(),i=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.delete(l.T+"account/logout");case 3:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),n("/"),window.location.reload(),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),n("/"),window.location.reload();case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)(r(),{isOpen:t,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},contentLabel:"Example Modal",ariaHideApp:!1,children:(0,d.jsxs)("div",{className:"flex flex-col gap-4 w-[500px]",children:[(0,d.jsx)("span",{className:"text-2xl font-medium",children:"Session Expired"}),(0,d.jsx)("span",{children:"Your session has expired please login again, click the button bellow to go back login screen"}),(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(u.Z,{onClick:i,className:"w-[50%]",children:"Login"})})]})})}},1878:function(e,t,n){var s=n(4165),a=n(5861),i=n(885),r=n(2791),o=n(456),l=n(6906),c=n(9520),u=n(184);t.Z=function(e){var t=e.topicInfo,n=e.onDeleteTopic,d=e.isTeacher,x=e.setCurrentTopicId,p=e.isParent,f=(0,r.useContext)(c.J),m=(0,r.useState)(!1),v=(0,i.Z)(m,2),h=v[0],g=v[1],j=(0,r.useState)(!1),w=(0,i.Z)(j,2),b=w[0],k=w[1],N=(0,r.useState)(!1),Z=(0,i.Z)(N,2),y=Z[0],C=Z[1],I=localStorage.getItem("access_token"),S=(0,r.useMemo)((function(){return I&&(0,o.Z)(I)}),[I]),T=function(){!p&&!b&&g(!h)},O=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===f||void 0===f||f.emit("send-request-unlock-topic",{senderId:null===S||void 0===S?void 0:S.accountId,userId:null===S||void 0===S?void 0:S.userId,topicId:null===t||void 0===t?void 0:t.topicId,tableHandle:"Student_Topic",idTableHandle:t.id}),g(!h),k(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){k(null===t||void 0===t?void 0:t.notificationContentId)}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.Z,{isOpen:h,noConfirm:T,yesConfirm:O,message:"Confirm to send request to open this topic."}),(0,u.jsx)(l.Z,{isOpen:y,noConfirm:function(){C(!1)},yesConfirm:function(){n(null===t||void 0===t?void 0:t.id),C(!1)},message:"Are you sure to remove this from class topic?"}),(0,u.jsxs)("div",{onClick:function(){null!==t&&void 0!==t&&t.isUnlock&&x(null===t||void 0===t?void 0:t.topicId),d&&x(null===t||void 0===t?void 0:t.topicId)},className:"w-full relative cursor-pointer flex flex-row gap-4 bg-white rounded-[16px] items-center shadow-md hover:shadow-lg transition-all select-none px-3 py-3",children:[!(null!==t&&void 0!==t&&t.isUnlock)&&!d&&(0,u.jsx)("div",{onClick:function(){return T()},className:"w-full absolute flex flex-row gap-4 items-center justify-center bg-gray-700 bg-opacity-70 rounded-[16px] h-[152px] -translate-x-3 z-1 ".concat(b?"":"cursor-pointer"),children:(0,u.jsx)("span",{className:"text-white",children:b?"Waiting for teacher response...":p?"Locked":"Request to open topic"})}),(0,u.jsx)("img",{src:(null===t||void 0===t?void 0:t.topicImg)||"https://thumbs.dreamstime.com/b/letter-block-word-topic-wood-background-business-concept-170764857.jpg",alt:"",className:" object-cover h-32 w-32 rounded-lg "}),(0,u.jsxs)("div",{className:"flex flex-col justify-evenly w-full h-full",children:[(0,u.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,u.jsx)("span",{className:"font-medium w-[225px] truncate cursor-pointer",children:null===t||void 0===t?void 0:t.topicName}),d&&(0,u.jsx)("div",{className:"rounded-full relative h-[30px] w-[30px] cursor-pointer select-none flex items-center justify-center bg-white hover:bg-gray-100",onClick:function(){C(!0)},children:(0,u.jsx)("i",{className:"fa-regular fa-trash-can text-sm text-red-400"})})]}),(0,u.jsx)("span",{className:"text-xs w-[260px] h-[48px] whitespace-normal break-words line-clamp-3",children:null===t||void 0===t?void 0:t.description}),(0,u.jsxs)("div",{className:"flex flex-row justify-between items-center mr-2 text-xs",children:[(0,u.jsxs)("span",{children:["Skills :"," ",(0,u.jsx)("span",{className:"text-primary",children:null===t||void 0===t?void 0:t.numberSkills})]}),(0,u.jsx)("span",{className:"text-primary cursor-pointer",onClick:function(){x(null===t||void 0===t?void 0:t.topicId)},children:"View"})]})]})]})]})}},4212:function(e,t,n){var s=n(4165),a=n(5861),i=n(4569),r=n.n(i),o=n(456),l=n(7689),c=n(3458),u=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("refresh_token"),e.next=4,r().post(c.T+"account/refresh-token",{},{headers:{Authorization:"Bearer ".concat(t)}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();t.Z=function(){var e=r().create();return e.interceptors.request.use(function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem("access_token"))){e.next=19;break}if(a=(0,o.Z)(n),e.prev=3,!(a.exp<Date.now()/1e3)){e.next=13;break}return e.next=7,u();case 7:i=e.sent,localStorage.setItem("access_token",i.accessToken),localStorage.setItem("refresh_token",i.refreshToken),t.headers.Authorization="Bearer "+i.accessToken,e.next=14;break;case 13:t.headers.Authorization="Bearer "+n;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log(e),(0,l.s0)()("/")})),e}},1165:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var s=n(2982),a=n(4165),i=n(5861),r=n(885),o=n(2791),l=(n(1009),n(7689)),c=n(456),u=(n(4676),n(4432),n(1756)),d=n(1878),x=n(3458),p=n(4212),f=n(9520),m=n(8661),v=n(4453),h=n(8093),g=n(184),j=function(e){var t,n=e.assignmentOfSkill,s=e.isParent,a=e.handleDoAssignment,i=(0,l.s0)(),c=(0,o.useState)(!1),u=(0,r.Z)(c,2),d=u[0],x=u[1];return console.log(n),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.Z,{isOpen:d,setIsOpen:x,val:n,isParent:s}),(0,g.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,g.jsx)("span",{onClick:function(){x(!0)},className:"cursor-pointer w-[70%] truncate text-primary",children:null===n||void 0===n||null===(t=n.assignment)||void 0===t?void 0:t.assignmentName}),function(e){var t,n,r,o,l,c;return s&&null!==e&&void 0!==e&&null!==(t=e.assignment)&&void 0!==t&&null!==(n=t.studentAssignment[0])&&void 0!==n&&n.dateComplete?(0,g.jsx)(v.Z,{className:"text-xs",onClick:function(){i("/assignment/".concat(e.assignment.id,"/result"))},children:"View Result"}):s?void 0:0===(null===e||void 0===e?void 0:e.numberQuestionOfAssignment)?(0,g.jsx)(g.Fragment,{}):null!==e&&void 0!==e&&null!==(r=e.assignment)&&void 0!==r&&null!==(o=r.studentAssignment[0])&&void 0!==o&&o.dateComplete?(0,g.jsx)(v.Z,{className:"text-xs",onClick:function(){i("/assignment/".concat(e.assignment.id,"/result"))},children:"View Result"}):null!==e&&void 0!==e&&null!==(l=e.assignment)&&void 0!==l&&null!==(c=l.studentAssignment[0])&&void 0!==c&&c.dateEnd?(0,g.jsx)(v.Z,{className:"text-xs",onClick:function(){return a(e.assignment.id,"continue")},children:"Continue Assignment"}):(0,g.jsx)(v.Z,{className:"text-xs",onClick:function(){return a(e.assignment.id,"start")},children:"Do Assignment"})}(n)]})]})},w=(0,p.Z)(),b=function(e){var t,n=e.val,s=e.isParent,c=e.studentInfo,d=(0,l.s0)(),p=(0,o.useState)([]),f=(0,r.Z)(p,2),m=f[0],v=f[1],h=(0,o.useState)(!1),b=(0,r.Z)(h,2),k=b[0],N=b[1],Z=(0,o.useCallback)((0,i.Z)((0,a.Z)().mark((function e(){var t,i,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=8;break}if(!c){e.next=6;break}return e.next=5,w.get(x.T+"parent/student/".concat(null===c||void 0===c?void 0:c.id,"/skill/").concat(null===n||void 0===n||null===(i=n.skill)||void 0===i?void 0:i.id));case 5:t=e.sent;case 6:e.next=11;break;case 8:return e.next=10,w.get(x.T+"skill-assignment/student/skill/".concat(null===n||void 0===n||null===(r=n.skill)||void 0===r?void 0:r.id));case 10:t=e.sent;case 11:v(t.data),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),401===e.t0.response.status&&N(!0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])}))),[null===n||void 0===n||null===(t=n.skill)||void 0===t?void 0:t.id,s,c]),y=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"start"!==n){e.next=4;break}return e.next=4,w.put(x.T+"student-assignment/student/assignment/".concat(t,"/start"));case 4:d("/assignment/".concat(t,"/question/")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),401===e.t0.response.status&&N(!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){Z()}),[Z]),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"flex flex-col gap-3 px-2 py-3",children:[(0,g.jsxs)("div",{className:"flex border-b p-y-2 pb-2 flex-row justify-between items-center",children:[(0,g.jsx)("span",{className:"text-xl",children:null===n||void 0===n?void 0:n.skill.skillName}),(0,g.jsx)("div",{className:"flex flex-row gap-5 items-center",children:(0,g.jsx)("span",{className:"text-primary text-sm",children:null===n||void 0===n?void 0:n.skill.standardName})})]}),(0,g.jsx)("div",{className:"flex flex-col gap-4",children:null===m||void 0===m?void 0:m.map((function(e,t){return(0,g.jsx)(j,{assignmentOfSkill:e,isParent:s,handleDoAssignment:y},t)}))}),(0,g.jsx)(u.Z,{isOpen:k})]})})},k=(0,p.Z)(),N=function(e){var t=e.isParent,n=(0,o.useContext)(f.J),p=(0,l.s0)(),v=localStorage.getItem("access_token"),h=(0,o.useMemo)((function(){return v&&(0,c.Z)(v)}),[v]),j=(0,l.UO)().classId,w=(0,o.useState)(null),N=(0,r.Z)(w,2),Z=N[0],y=N[1],C=(0,o.useState)(null),I=(0,r.Z)(C,2),S=I[0],T=I[1];(0,o.useEffect)((function(){if(t){var e=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get(x.T+"parent/student");case 3:n=e.sent,y(n.data),p("/class/".concat(null===(t=n.data)||void 0===t?void 0:t.classId)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}else{var n=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get(x.T+"student/class");case 2:n=e.sent,T(n.data),(null===h||void 0===h?void 0:h.classId)!==parseInt(j)&&p("/class/".concat((null===(t=n.data)||void 0===t?void 0:t.id)||(null===h||void 0===h?void 0:h.classId)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}}),[h,j]);var O=(0,o.useState)([]),A=(0,r.Z)(O,2),_=A[0],q=A[1],E=(0,o.useState)(""),R=(0,r.Z)(E,2),P=R[0],D=R[1],H=(0,o.useState)(),F=(0,r.Z)(H,2),L=F[0],M=F[1],Y=(0,o.useState)([]),V=(0,r.Z)(Y,2),z=V[0],U=V[1],B=(0,o.useState)(""),Q=(0,r.Z)(B,2),J=Q[0],W=Q[1],G=(0,o.useState)(),K=(0,r.Z)(G,2),X=K[0],$=K[1],ee=(0,o.useState)(!1),te=(0,r.Z)(ee,2),ne=te[0],se=te[1],ae=function(e){for(var t=0;t<e.length;t++)if(1===e[t].isUnlock)return e[t].topicId},ie=(0,o.useCallback)((0,i.Z)((0,a.Z)().mark((function e(){var n,i,r,o,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}if(!Z){e.next=7;break}return e.next=5,k.get(x.T+"parent/student/".concat(null===Z||void 0===Z?void 0:Z.id,"/class/").concat(j,"/topic"));case 5:i=e.sent,n=i.data;case 7:e.next=13;break;case 9:return e.next=11,k.get(x.T+"student-topic/student/class/".concat(j));case 11:r=e.sent,n=r.data;case 13:for(J||W(ae(n)),o=[],l=0;l<n.length;++l)o=[].concat((0,s.Z)(o),[{id:n[l].topicId,topicName:n[l].topicName,description:n[l].description,topicImg:n[l].topicImg,prerequisiteTopicName:n[l].prerequisiteTopicName,classTopicId:n[l].id}]);$(o),q(n),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),401===e.t0.response.status&&se(!0);case 24:case"end":return e.stop()}}),e,null,[[0,20]])}))),[j,J,t,Z]),re=(0,o.useCallback)((0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!J){e.next=13;break}if(!J||!t){e.next=8;break}return e.next=5,k.get(x.T+"parent/student/".concat(null===Z||void 0===Z?void 0:Z.id,"/topic/").concat(J));case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,k.get(x.T+"student-skill/student/topic/".concat(J));case 10:n=e.sent;case 11:U(n.data),M(X.find((function(e){return e.id===J}))||{});case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),401===e.t0.response.status&&se(!0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),[J,X,t,null===Z||void 0===Z?void 0:Z.id]);return(0,o.useEffect)((function(){re()}),[re]),(0,o.useEffect)((function(){ie()}),[ie]),(0,o.useEffect)((function(){return null===n||void 0===n||n.on("get-handle-request-notification",(function(e){(null===e||void 0===e?void 0:e.senderId)!==(null===h||void 0===h?void 0:h.accountId)&&"Student_Topic"===(null===e||void 0===e?void 0:e.tableHandle)&&ie()})),function(){null===n||void 0===n||n.off("get-handle-request-notification")}}),[n,h]),(0,g.jsxs)("div",{className:"flex flex-row h-screen",children:[(0,g.jsxs)("div",{className:"w-[40%] flex flex-col px-5 py-5 gap-6",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-3 px-4",children:[(0,g.jsx)("span",{className:"text-2xl font-medium truncate",children:null===S||void 0===S?void 0:S.className}),(0,g.jsx)("div",{className:"flex flex-row justify-between items-center w-full",children:(0,g.jsx)("input",{onChange:function(e){return D(e.target.value)},className:"outline-none rounded-lg text-base px-4 py-2 w-[65%] drop-shadow-md focus:drop-shadow-lg transition-all",placeholder:"Search topics"})})]}),(0,g.jsx)("div",{className:"flex flex-col gap-7 px-4 pb-4 overflow-auto scroll-smooth",children:_.filter((function(e){return""===P||e.topicName.toLowerCase().includes(P.toLowerCase())?e:""})).map((function(e,n){return(0,g.jsx)(d.Z,{topicInfo:e,setCurrentTopicId:W,isParent:t},n)}))})]}),(0,g.jsx)("div",{className:"flex flex-col gap-5 w-[60%] bg-white py-5 px-10 overflow-y-auto",children:L?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"flex flex-row gap-3 justify-center items-center",children:(0,g.jsx)("span",{className:"text-2xl text-primary",children:null===L||void 0===L?void 0:L.topicName})}),(0,g.jsx)("div",{className:"relative rounded-lg min-h-[300px] overflow-hidden flex items-center justify-center bg-center w-full select-none cursor-pointer transition-all",children:(0,g.jsx)("img",{src:(null===L||void 0===L?void 0:L.topicImg)||"https://thumbs.dreamstime.com/b/letter-block-word-topic-wood-background-business-concept-170764857.jpg",className:"h-[300px] object-cover w-full",alt:""})}),(0,g.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,g.jsx)("div",{className:"flex flex-row justify-between items-center",children:(0,g.jsx)("span",{className:"text-2xl font-medium text-gray-700",children:"Topic descriptions"})}),(null===L||void 0===L?void 0:L.description)&&(0,g.jsx)("span",{className:"px-2 text-justify",children:null===L||void 0===L?void 0:L.description})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,g.jsx)("div",{className:"flex flex-row justify-between items-center",children:(0,g.jsx)("span",{className:"text-2xl font-medium text-gray-700",children:"Skills"})}),(0,g.jsx)("div",{className:"flex flex-col gap-1",children:z.map((function(e,n){return(0,g.jsx)(b,{val:e,getTopicOfClass:ie,isParent:t,studentInfo:Z},e.id+n)}))})]})]}):(0,g.jsxs)("div",{className:"w-full h-full flex flex-col gap-5 items-center justify-center",children:[(0,g.jsx)("img",{src:m,alt:"",className:"h-[300px]"}),(0,g.jsx)("span",{className:"text-2xl font-[500] text-primary",children:"No content, choose 1 topic to view"})]})}),(0,g.jsx)(u.Z,{isOpen:ne})]})}},1009:function(){},4432:function(){},4676:function(){},8661:function(e,t,n){e.exports=n.p+"static/media/nocontent.374bbc0b49b8a06692ff.png"}}]);
//# sourceMappingURL=165.045e126d.chunk.js.map