{"version":3,"file":"static/js/373.085043fe.chunk.js","mappings":"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","sources":["components/Button.js","components/Modals/ManageClassModal.js","components/Modals/TokenExpire.js","components/Teacher/ClassCard.js","constant.js","createAxiosJWT.js","pages/TeacherPages/TeacherClasses.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst Button = ({ children, className = '', ...rest }) => {\r\n    return (\r\n        <button\r\n            className={`bg-primary py-2 px-5 rounded-lg border-2 text-white transition-all active:scale-90 cursor-pointer select-none hover:bg-opacity-90 text-center border-none ${className} `}\r\n            {...rest}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import React, { useEffect, useState } from 'react'\r\nimport ImageUploading from 'react-images-uploading'\r\nimport Modal from 'react-modal'\r\nimport Button from '../Button'\r\nimport { useForm } from 'react-hook-form'\r\nimport Select from 'react-select'\r\n\r\nimport { toast } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n\r\nimport classroomBackground from './../../assets/image/classroom-background.jpg'\r\nimport { API_URL } from '../../constant'\r\nimport TokenExpire from '../../components/Modals/TokenExpire'\r\nimport createAxiosJWT from '../../createAxiosJWT'\r\n\r\nconst axiosJWT = createAxiosJWT()\r\nconst customStyles = {\r\n  overlay: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(165, 165, 165, 0.6)',\r\n  },\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n  },\r\n}\r\n\r\nconst ManageClassModal = ({\r\n  isOpen,\r\n  setIsOpen,\r\n  edit,\r\n  getClassOfTeacher,\r\n  classInfo,\r\n  setClassInfo,\r\n}) => {\r\n  const { register, handleSubmit } = useForm()\r\n  const [isExpired, setIsExpired] = useState(false)\r\n  const [grades, setGrades] = useState([])\r\n  const [image, setImage] = React.useState([])\r\n  const [gradeId, setGradeId] = useState()\r\n  const notify = (message) => toast(message)\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      if (edit && classInfo) {\r\n        const res = (image?.length &&\r\n          image[0]?.file &&\r\n          (await axiosJWT.post(\r\n            API_URL + 'file/image',\r\n            {\r\n              image: image?.length && image[0]?.file,\r\n            },\r\n            {\r\n              headers: { 'Content-Type': 'multipart/form-data' },\r\n            },\r\n          ))) || { data: classInfo.classImg }\r\n        const updateClass = {\r\n          className: data.className,\r\n          classImg: res.data || '',\r\n        }\r\n\r\n        try {\r\n          await axiosJWT.put(API_URL + `class/${classInfo.id}`, updateClass)\r\n          notify('Updated success')\r\n        } catch {\r\n          notify('Update failed')\r\n        }\r\n\r\n        const classInfoAfterUpdated = await axiosJWT.get(\r\n          API_URL + `class/${classInfo.id}}`,\r\n        )\r\n        setClassInfo(classInfoAfterUpdated.data)\r\n      } else {\r\n        const res = await axiosJWT.post(\r\n          API_URL + 'file/image',\r\n          {\r\n            image: image?.length && image[0]?.file,\r\n          },\r\n          {\r\n            headers: { 'Content-Type': 'multipart/form-data' },\r\n          },\r\n        )\r\n        const createClass = {\r\n          className: data.className,\r\n          classImg: res.data || '',\r\n          year: `${new Date().getFullYear()}-${new Date().getFullYear() + 1}`,\r\n          gradeId: gradeId,\r\n        }\r\n        try {\r\n          await axiosJWT.post(API_URL + `class`, createClass)\r\n          notify('Created success')\r\n        } catch {\r\n          notify('Create failed')\r\n        }\r\n        getClassOfTeacher()\r\n      }\r\n      setIsOpen(!isOpen)\r\n    } catch (error) {\r\n      console.log(error)\r\n      if (error.response.status === 401) setIsExpired(true)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    axiosJWT.get(API_URL + `grade`).then((res) => {\r\n      setGrades(res.data)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setImage([{ data_url: classInfo?.classImg }])\r\n  }, [classInfo])\r\n\r\n  const onChange = (imageList) => {\r\n    setImage(imageList)\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      style={customStyles}\r\n      shouldCloseOnOverlayClick={true}\r\n      contentLabel=\"Example Modal\"\r\n      ariaHideApp={false}\r\n    >\r\n      <div className=\"flex flex-col w-[500px] h-fit gap-5\">\r\n        <span className=\"text-2xl\">{edit ? `Edit` : `Create`} class</span>\r\n        <form className=\"flex flex-col gap-5\" onSubmit={handleSubmit(onSubmit)}>\r\n          {/* class name */}\r\n          <div className=\"flex flex-col gap-2 px-2 w-full\">\r\n            <span className=\"px-2\">Class name</span>\r\n            <input\r\n              defaultValue={classInfo?.className}\r\n              type=\"text\"\r\n              {...register('className', { required: true })}\r\n              placeholder=\"Type in class name\"\r\n              className=\"outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary\"\r\n            />\r\n          </div>\r\n          {/* grade */}\r\n          {edit ? (\r\n            <></>\r\n          ) : (\r\n            <div className=\"flex flex-col gap-2 px-2\">\r\n              <span className=\"px-2\">Grade</span>\r\n              <Select\r\n                defaultValue={gradeId}\r\n                options={grades}\r\n                type=\"text\"\r\n                placeholder=\"Pick a grade\"\r\n                onChange={(e) => setGradeId(e.id)}\r\n                className=\"min-w-[332px] bg-gray\"\r\n                getOptionValue={(option) => option.id}\r\n                getOptionLabel={(option) => option.gradeName}\r\n              />\r\n            </div>\r\n          )}\r\n          {/* class image */}\r\n          <ImageUploading\r\n            value={image}\r\n            onChange={onChange}\r\n            dataURLKey=\"data_url\"\r\n          >\r\n            {({ imageList, onImageUpload, onImageUpdate, dragProps }) => (\r\n              <div\r\n                className=\"flex items-center justify-center w-full\"\r\n                onClick={\r\n                  !imageList?.length ? onImageUpload : () => onImageUpdate(0)\r\n                }\r\n                {...dragProps}\r\n              >\r\n                <div\r\n                  className={`relative rounded-lg min-h-[100px] w-[80%] overflow-hidden flex items-center justify-center bg-center select-none cursor-pointer transition-all`}\r\n                >\r\n                  <img\r\n                    src={\r\n                      (imageList?.length && imageList[0]?.data_url) ||\r\n                      classroomBackground\r\n                    }\r\n                    className=\"h-[200px] w-full\"\r\n                    alt=\"\"\r\n                  />\r\n                  <label\r\n                    className=\"absolute z-1 w-full text-transparent hover:text-white hover:bg-gray-800 flex justify-center items-center hover:bg-opacity-50 transition-all min-h-[300px] cursor-pointer\"\r\n                    htmlFor=\"image\"\r\n                  >\r\n                    <span className=\"text-2xl\">Pick an image</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </ImageUploading>\r\n          {/*  */}\r\n          <div className=\"w-full flex flex-row-reverse gap-5\">\r\n            <Button onClick={() => setIsOpen(!isOpen)}>Cancel</Button>\r\n            <Button type=\"submit\">{edit ? `Save` : `Create`}</Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <TokenExpire isOpen={isExpired} />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ManageClassModal\r\n","import React from 'react';\r\nimport Modal from 'react-modal';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { API_URL } from '../../constant';\r\nimport createAxiosJWT from '../../createAxiosJWT';\r\nimport Button from '../Button';\r\n\r\nconst axiosJWT = createAxiosJWT();\r\nconst TokenExpire = ({ isOpen }) => {\r\n    const customStyles = {\r\n        overlay: {\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(165, 165, 165, 0.6)',\r\n        },\r\n        content: {\r\n            top: '50%',\r\n            left: '50%',\r\n            right: 'auto',\r\n            bottom: 'auto',\r\n            marginRight: '-50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n        },\r\n    };\r\n    const navigate = useNavigate();\r\n    const handleLogOut = async () => {\r\n        try {\r\n            await createAxiosJWT.delete(API_URL + 'account/logout');\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            navigate('/');\r\n            window.location.reload();\r\n        } catch (err) {\r\n            console.log(err);\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            navigate('/');\r\n            window.location.reload();\r\n        }\r\n    };\r\n    return (\r\n        <Modal\r\n            isOpen={isOpen}\r\n            style={customStyles}\r\n            contentLabel='Example Modal'\r\n            ariaHideApp={false}\r\n        >\r\n            <div className='flex flex-col gap-4 w-[500px]'>\r\n                <span className='text-2xl font-medium'>Session Expired</span>\r\n                <span>\r\n                    Your session has expired please login again, click the button bellow to go back\r\n                    login screen\r\n                </span>\r\n                <div className='flex justify-center'>\r\n                    <Button onClick={handleLogOut} className='w-[50%]'>\r\n                        Login\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default TokenExpire;\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport classroomBackground from './../../assets/image/classroom-background.jpg'\r\n\r\nconst ClassCard = ({ classInfo }) => {\r\n  const navigate = useNavigate()\r\n  const image = classroomBackground\r\n  // 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRzDRXFhE3aK7cERNPeEkefjyjTnQCqXLxxIBvi_h77ieGirPLbfO1D7I7km_BFVYFjGIA&usqp=CAU'\r\n  console.log(classInfo)\r\n\r\n  return (\r\n    <motion.div\r\n      animate={{ opacity: 1 }}\r\n      initial={{ opacity: 0 }}\r\n      exit={{ opacity: 0 }}\r\n      transition={{ duration: 0.3 }}\r\n      layout\r\n      className=\"flex flex-col gap-2 bg-white shadow-lg hover:shadow-xl duration-300 w-[250px] h-[200px] rounded-lg\"\r\n      onClick={() => {\r\n        navigate(`/class/${classInfo.id}`)\r\n      }}\r\n    >\r\n      <div className=\"flex justify-center pt-5\">\r\n        <img\r\n          src={classInfo?.classImg || image}\r\n          onError={({ currentTarget }) => {\r\n            currentTarget.onerror = null\r\n            currentTarget.src = image\r\n          }}\r\n          alt=\"\"\r\n          className=\"rounded-md w-[200px] h-[100px] cursor-pointer object-cover\"\r\n        ></img>\r\n      </div>\r\n      <div className=\"flex flex-col ml-6 mr-5\">\r\n        <span className=\"font-[500] text-primary text-lg cursor-pointer truncate\">\r\n          {classInfo?.className}\r\n        </span>\r\n      </div>\r\n      <div className=\"flex flex-row justify-between mt-1 items-center mx-6\">\r\n        <span className=\"text-xs text-gray-500 no-underline cursor-default\">\r\n          {classInfo?.year}\r\n        </span>\r\n        <span className=\"text-xs no-underline cursor-default\">\r\n          Grade:{' '}\r\n          <span className=\"text-primary\">{classInfo?.grade?.gradeName}</span>\r\n        </span>\r\n      </div>\r\n    </motion.div>\r\n  )\r\n}\r\n\r\nexport default ClassCard\r\n","export const API_URL = 'http://localhost:8080/api/';\r\n","import axios from 'axios'\r\nimport jwt_decode from 'jwt-decode'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport { API_URL } from './constant'\r\n\r\nconst refreshToken = async () => {\r\n  try {\r\n    const refreshToken = localStorage.getItem('refresh_token')\r\n    const res = await axios.post(\r\n      API_URL + `account/refresh-token`,\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${refreshToken}` },\r\n      },\r\n    )\r\n    return res.data\r\n  } catch (err) {\r\n    // return navigation('/');\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst createAxiosJWT = () => {\r\n  const newInstance = axios.create()\r\n  newInstance.interceptors.request.use(\r\n    async (config) => {\r\n      const accessToken = localStorage.getItem('access_token')\r\n      if (accessToken) {\r\n        const decodedToken = jwt_decode(accessToken)\r\n        try {\r\n          if (decodedToken.exp < Date.now() / 1000) {\r\n            const tokens = await refreshToken()\r\n            localStorage.setItem('access_token', tokens.accessToken)\r\n            localStorage.setItem('refresh_token', tokens.refreshToken)\r\n            config.headers['Authorization'] = 'Bearer ' + tokens.accessToken\r\n          } else config.headers['Authorization'] = 'Bearer ' + accessToken\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n      return config\r\n    },\r\n    (err) => {\r\n      console.log(err)\r\n      const navigate = useNavigate()\r\n      navigate('/')\r\n      // return Promise.reject(err);\r\n    },\r\n  )\r\n  return newInstance\r\n}\r\n\r\nexport default createAxiosJWT\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport ClassCard from '../../components/Teacher/ClassCard';\r\nimport { API_URL } from '../../constant';\r\nimport Button from '../../components/Button';\r\nimport ManageClassModal from '../../components/Modals/ManageClassModal';\r\nimport createAxiosJWT from '../../createAxiosJWT';\r\n\r\nconst axiosJWT = createAxiosJWT();\r\nconst TeacherClasses = () => {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [openCreateClassModal, setOpenCreateClassModal] = useState(false);\r\n    const [classes, setClasses] = useState([]);\r\n\r\n    const getClassOfTeacher = useCallback(async () => {\r\n        const res = await axiosJWT.get(API_URL + `class/teacher`);\r\n        setClasses(res.data);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        getClassOfTeacher();\r\n    }, [getClassOfTeacher]);\r\n\r\n    return (\r\n        <div className='flex flex-col mt-10 gap-5 h-[100%]'>\r\n            <div className='flex flex-col px-10 ml-7 pt-2'>\r\n                <div className='flex flex-row justify-between items-center mr-[4.2rem]'>\r\n                    <span className='text-2xl font-[500]'>Active Class</span>\r\n                    <div className='flex flex-row gap-5 items-center'>\r\n                        <Button\r\n                            onClick={() => {\r\n                                setOpenCreateClassModal(true);\r\n                            }}\r\n                            className='shadow-lg'\r\n                        >\r\n                            Create a class\r\n                        </Button>\r\n                        <ManageClassModal\r\n                            isOpen={openCreateClassModal}\r\n                            setIsOpen={setOpenCreateClassModal}\r\n                            getClassOfTeacher={getClassOfTeacher}\r\n                        />\r\n                        <input\r\n                            placeholder='Search...'\r\n                            className='flex justify-center shadow-md focus:shadow-lg items-center pr-10 transition-all px-5 py-2 rounded-md outline-none'\r\n                            onChange={(e) => {\r\n                                setSearchTerm(e.target.value);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className='flex flex-row flex-wrap mt-5 gap-10 mb-10'>\r\n                    {classes\r\n                        ?.filter((val) => {\r\n                            if (\r\n                                searchTerm === '' ||\r\n                                val.className.toLowerCase().includes(searchTerm.toLowerCase())\r\n                            )\r\n                                return val;\r\n                            return '';\r\n                        })\r\n                        .map((val, index) => {\r\n                            return <ClassCard layout key={val?.id} classInfo={val} />;\r\n                        })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TeacherClasses;\r\n"],"names":["children","className","rest","axiosJWT","createAxiosJWT","customStyles","overlay","position","top","left","right","bottom","backgroundColor","content","marginRight","transform","border","borderRadius","isOpen","setIsOpen","edit","getClassOfTeacher","classInfo","setClassInfo","useForm","register","handleSubmit","useState","isExpired","setIsExpired","grades","setGrades","React","image","setImage","gradeId","setGradeId","notify","message","toast","onSubmit","data","length","file","post","API_URL","headers","classImg","res","updateClass","put","id","get","classInfoAfterUpdated","createClass","year","Date","getFullYear","console","log","response","status","useEffect","then","data_url","style","shouldCloseOnOverlayClick","contentLabel","ariaHideApp","defaultValue","type","required","placeholder","options","onChange","e","getOptionValue","option","getOptionLabel","gradeName","value","imageList","dataURLKey","onImageUpload","onImageUpdate","dragProps","onClick","src","classroomBackground","alt","htmlFor","navigate","useNavigate","handleLogOut","localStorage","removeItem","window","location","reload","animate","opacity","initial","exit","transition","duration","layout","onError","currentTarget","onerror","grade","refreshToken","getItem","axios","Authorization","newInstance","interceptors","request","use","config","accessToken","decodedToken","jwt_decode","exp","now","tokens","setItem","err","searchTerm","setSearchTerm","openCreateClassModal","setOpenCreateClassModal","classes","setClasses","useCallback","target","filter","val","toLowerCase","includes","map","index"],"sourceRoot":""}