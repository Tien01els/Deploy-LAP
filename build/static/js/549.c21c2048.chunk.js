"use strict";(self.webpackChunktemplate_react_app=self.webpackChunktemplate_react_app||[]).push([[549],{6739:function(e,t,a){a(2791);var r=a(4238),n=a(7689),s=a(1833),l=a(184);t.Z=function(e){var t,a=e.classInfo,c=(0,n.s0)(),o=s;return console.log(a),(0,l.jsxs)(r.E.div,{animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},transition:{duration:.3},layout:!0,className:"flex flex-col gap-2 bg-white shadow-lg hover:shadow-xl duration-300 w-[250px] h-[200px] rounded-lg",onClick:function(){c("/class/".concat(a.id))},children:[(0,l.jsx)("div",{className:"flex justify-center pt-5",children:(0,l.jsx)("img",{src:(null===a||void 0===a?void 0:a.classImg)||o,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=o},alt:"",className:"rounded-md w-[200px] h-[100px] cursor-pointer object-cover"})}),(0,l.jsx)("div",{className:"flex flex-col ml-6 mr-5",children:(0,l.jsx)("span",{className:"font-[500] text-primary text-lg cursor-pointer truncate",children:null===a||void 0===a?void 0:a.className})}),(0,l.jsxs)("div",{className:"flex flex-row justify-between mt-1 items-center mx-6",children:[(0,l.jsx)("span",{className:"text-xs text-gray-500 no-underline cursor-default",children:null===a||void 0===a?void 0:a.year}),(0,l.jsxs)("span",{className:"text-xs no-underline cursor-default",children:["Grade:"," ",(0,l.jsx)("span",{className:"text-primary",children:null===a||void 0===a||null===(t=a.grade)||void 0===t?void 0:t.gradeName})]})]})]})}},4212:function(e,t,a){var r=a(4165),n=a(5861),s=a(4569),l=a.n(s),c=a(456),o=a(7689),i=a(3458),d=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("refresh_token"),e.next=4,l().post(i.T+"account/refresh-token",{},{headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();t.Z=function(){var e=l().create();return e.interceptors.request.use(function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){var a,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("access_token"))){e.next=19;break}if(n=(0,c.Z)(a),e.prev=3,!(n.exp<Date.now()/1e3)){e.next=13;break}return e.next=7,d();case 7:s=e.sent,localStorage.setItem("access_token",s.accessToken),localStorage.setItem("refresh_token",s.refreshToken),t.headers.Authorization="Bearer "+s.accessToken,e.next=14;break;case 13:t.headers.Authorization="Bearer "+a;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log(e),(0,o.s0)()("/")})),e}},3553:function(e,t,a){a.r(t);var r=a(4165),n=a(5861),s=a(885),l=a(2791),c=a(7689),o=a(4238),i=a(2426),d=a.n(i),u=a(6305),f=(a(3443),a(7160)),m=a(9683),x=(a(155),a(6739)),p=a(3458),h=a(4212),v=a(184),g=(0,h.Z)();u.kL.register(u.uw,u.f$,u.ZL,u.Dx,u.u,u.De);t.default=function(){d()().locale("en");var e=(0,c.s0)(),t=(0,l.useState)(null),a=(0,s.Z)(t,2),i=a[0],u=a[1],h=(0,l.useState)([]),j=(0,s.Z)(h,2),w=j[0],y=j[1],N=(0,l.useState)([]),b=(0,s.Z)(N,2),k=b[0],Z=b[1],D=(0,l.useState)([]),S=(0,s.Z)(D,2),C=S[0],I=S[1],A=(0,l.useState)([]),T=(0,s.Z)(A,2),_=T[0],M=T[1];(0,l.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var t,a,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(p.T+"class/teacher");case 2:t=e.sent,a=t.data,n=a.slice(0,3),y(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(p.T+"assignment/teacher");case 2:t=e.sent,Z(t.data),B(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(p.T+"class/teacher/average-score");case 2:t=e.sent,M(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t(),a()}),[]);var B=function(e){for(var t=[],a=0;a<(null===e||void 0===e?void 0:e.length);a++){var r,n,s;t.push({year:parseInt(d()(null===(r=e[a])||void 0===r?void 0:r.dateDue).format("YYYY")),month:parseInt(d()(null===(n=e[a])||void 0===n?void 0:n.dateDue).format("MM")),day:parseInt(d()(null===(s=e[a])||void 0===s?void 0:s.dateDue).format("DD")),className:"deadline"})}I(t)},E=_.map((function(e){return e.className}));console.log(_);var Y={labels:E,datasets:[{label:"Dataset 1",data:_.map((function(e){return e.averageScore})),borderColor:"rgb(117,185,204)",backgroundColor:"rgb(117,185,204, 0.5)"}]};return(0,v.jsx)("div",{className:"flex flex-col h-[100vh]",children:(0,v.jsxs)("div",{className:"flex flex-row w-full divide-solid h-full pt-8",children:[(0,v.jsxs)("div",{className:"w-[75%] h-[100%] overflow-hidden flex flex-col  items-center",children:[(0,v.jsx)("div",{className:"flex justify-center min-w-[92%] bg-white rounded-md shadow-md hover:shadow-lg transition-all",children:(0,v.jsx)(m.$Q,{responsive:"true",height:175,width:400,className:"chartJS",options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"'top' as const"},title:{display:"true",text:"Average Score"},scales:{yAxes:[{ticks:{beginAtZero:!0,min:0,max:100}}]}}},data:Y})}),(0,v.jsx)("div",{className:"flex min-w-[90%] mt-10 gap-10 mb-8",children:(0,v.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,v.jsxs)("div",{className:"flex justify-between items-center",children:[(0,v.jsx)("span",{className:"font-semibold text-xl",children:"Classes"}),(0,v.jsx)("span",{className:"mr-3 text-sm duration-300 hover:cursor-pointer hover:underline underline-offset-4",onClick:function(){e("/class")},children:"View all"})]}),(0,v.jsx)("div",{className:"flex flex-row gap-7 w-full",children:w&&w.map((function(e,t){return(0,v.jsx)(x.Z,{classInfo:e},null===e||void 0===e?void 0:e.id)}))})]})})]}),(0,v.jsx)("div",{className:"min-w-[30%]",children:(0,v.jsx)("div",{className:"flex items-center justify-center",children:(0,v.jsx)(f.f,{colorPrimary:"#75b9cc",value:i,onChange:u,calendarClassName:"custom-calendar",calendarTodayClassName:"custom-today-day",customDaysClassName:C,renderFooter:function(){return(0,v.jsxs)(o.E.div,{style:{height:"245px",paddingLeft:"2rem",paddingRight:"2rem"},animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},layout:!0,className:"flex flex-col gap-3",children:[(0,v.jsx)("span",{className:"text-base text-gray-600 font-semibold",children:"Upcoming Assignments"}),(0,v.jsx)("div",{style:{padding:"0.5rem",paddingBottom:"1rem"},className:"flex flex-col gap-4 overflow-y-auto",children:k&&(null===k||void 0===k?void 0:k.filter((function(e){return parseInt(d()(e.dateDue).format("DD"))===(null===i||void 0===i?void 0:i.day)})).map((function(e,t){return(0,v.jsx)("div",{className:"flex flex-col gap-4",children:(0,v.jsxs)("div",{className:"shadow-sm hover:shadow-md border transition-all rounded-md flex items-center justify-between cursor-pointer",children:[(0,v.jsxs)("div",{style:{padding:"10px 1rem"},className:"flex flex-col",children:[(0,v.jsx)("span",{className:"text-primary w-[130px] truncate text-base",children:e.assignmentName}),(0,v.jsx)("span",{children:"Class"})]}),(0,v.jsxs)("div",{style:{paddingRight:"1rem"},className:"flex flex-col justify-center items-center",children:[(0,v.jsx)("span",{className:"text-xs",children:i.day+"-"+d()(null===i||void 0===i?void 0:i.month.toString()).format("MMM")}),(0,v.jsx)("span",{className:"text-x",children:d()(e.dateDue).format("hh:mm:ss A")})]})]})},t)})))})]})}})})})]})})}},1833:function(e,t,a){e.exports=a.p+"static/media/classroom-background.4920a7bce675f9685560.jpg"}}]);
//# sourceMappingURL=549.c21c2048.chunk.js.map