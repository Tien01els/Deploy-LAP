{"version":3,"file":"static/js/781.6b56bba4.chunk.js","mappings":"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","sources":["components/Button.js","components/Modals/ManageClassModal.js","components/Modals/TokenExpire.js","createAxiosJWT.js","components/Teacher/DetailsCard.js","components/Modals/DeleteClassModal.js","pages/TeacherPages/TeacherClass.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst Button = ({ children, className = '', ...rest }) => {\r\n    return (\r\n        <button\r\n            className={`bg-primary py-2 px-5 rounded-lg border-2 text-white transition-all active:scale-90 cursor-pointer select-none hover:bg-opacity-90 text-center border-none ${className} `}\r\n            {...rest}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import React, { useEffect, useState } from 'react'\r\nimport ImageUploading from 'react-images-uploading'\r\nimport Modal from 'react-modal'\r\nimport Button from '../Button'\r\nimport { useForm } from 'react-hook-form'\r\nimport Select from 'react-select'\r\n\r\nimport { toast } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n\r\nimport classroomBackground from './../../assets/image/classroom-background.jpg'\r\nimport { API_URL } from '../../constant'\r\nimport TokenExpire from '../../components/Modals/TokenExpire'\r\nimport createAxiosJWT from '../../createAxiosJWT'\r\n\r\nconst axiosJWT = createAxiosJWT()\r\nconst customStyles = {\r\n  overlay: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(165, 165, 165, 0.6)',\r\n  },\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n  },\r\n}\r\n\r\nconst ManageClassModal = ({\r\n  isOpen,\r\n  setIsOpen,\r\n  edit,\r\n  getClassOfTeacher,\r\n  classInfo,\r\n  setClassInfo,\r\n}) => {\r\n  const { register, handleSubmit } = useForm()\r\n  const [isExpired, setIsExpired] = useState(false)\r\n  const [grades, setGrades] = useState([])\r\n  const [image, setImage] = useState([])\r\n  const [gradeId, setGradeId] = useState()\r\n  const notify = (message) => toast(message)\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      if (edit && classInfo) {\r\n        const res = (image?.length &&\r\n          image[0]?.file &&\r\n          (await axiosJWT.post(\r\n            API_URL + 'file/image',\r\n            {\r\n              image: image?.length && image[0]?.file,\r\n            },\r\n            {\r\n              headers: { 'Content-Type': 'multipart/form-data' },\r\n            },\r\n          ))) || { data: classInfo.classImg }\r\n        const updateClass = {\r\n          className: data.className,\r\n          classImg: res.data || '',\r\n        }\r\n\r\n        try {\r\n          await axiosJWT.put(API_URL + `class/${classInfo.id}`, updateClass)\r\n          notify('Updated success')\r\n        } catch {\r\n          notify('Update failed')\r\n        }\r\n\r\n        const classInfoAfterUpdated = await axiosJWT.get(\r\n          API_URL + `class/${classInfo.id}}`,\r\n        )\r\n        setClassInfo(classInfoAfterUpdated.data)\r\n      } else {\r\n        const res = await axiosJWT.post(\r\n          API_URL + 'file/image',\r\n          {\r\n            image: image?.length && image[0]?.file,\r\n          },\r\n          {\r\n            headers: { 'Content-Type': 'multipart/form-data' },\r\n          },\r\n        )\r\n        const createClass = {\r\n          className: data.className,\r\n          classImg: res.data || '',\r\n          year: `${new Date().getFullYear()}-${new Date().getFullYear() + 1}`,\r\n          gradeId: gradeId,\r\n        }\r\n        try {\r\n          await axiosJWT.post(API_URL + `class`, createClass)\r\n          notify('Created success')\r\n        } catch {\r\n          notify('Create failed')\r\n        }\r\n        getClassOfTeacher()\r\n      }\r\n      setIsOpen(!isOpen)\r\n    } catch (error) {\r\n      console.log(error)\r\n      if (error.response.status === 401) setIsExpired(true)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    axiosJWT.get(API_URL + `grade`).then((res) => {\r\n      setGrades(res.data)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setImage([{ data_url: classInfo?.classImg }])\r\n  }, [classInfo])\r\n\r\n  const onChange = (imageList) => {\r\n    setImage(imageList)\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      style={customStyles}\r\n      shouldCloseOnOverlayClick={true}\r\n      contentLabel=\"Example Modal\"\r\n      ariaHideApp={false}\r\n    >\r\n      <div className=\"flex flex-col w-[500px] h-fit gap-5\">\r\n        <span className=\"text-2xl\">{edit ? `Edit` : `Create`} class</span>\r\n        <form className=\"flex flex-col gap-5\" onSubmit={handleSubmit(onSubmit)}>\r\n          {/* class name */}\r\n          <div className=\"flex flex-col gap-2 px-2 w-full\">\r\n            <span className=\"px-2\">Class name</span>\r\n            <input\r\n              defaultValue={classInfo?.className}\r\n              type=\"text\"\r\n              {...register('className', { required: true })}\r\n              placeholder=\"Type in class name\"\r\n              className=\"outline-none px-3 py-1 border-b-2  border-opacity-0 transition-all focus:border-primary\"\r\n            />\r\n          </div>\r\n          {/* grade */}\r\n          {edit ? (\r\n            <></>\r\n          ) : (\r\n            <div className=\"flex flex-col gap-2 px-2\">\r\n              <span className=\"px-2\">Grade</span>\r\n              <Select\r\n                defaultValue={gradeId}\r\n                options={grades}\r\n                type=\"text\"\r\n                placeholder=\"Pick a grade\"\r\n                onChange={(e) => setGradeId(e.id)}\r\n                className=\"min-w-[332px] bg-gray\"\r\n                getOptionValue={(option) => option.id}\r\n                getOptionLabel={(option) => option.gradeName}\r\n              />\r\n            </div>\r\n          )}\r\n          {/* class image */}\r\n          <ImageUploading\r\n            value={image}\r\n            onChange={onChange}\r\n            dataURLKey=\"data_url\"\r\n          >\r\n            {({ imageList, onImageUpload, onImageUpdate, dragProps }) => (\r\n              <div\r\n                className=\"flex items-center justify-center w-full\"\r\n                onClick={\r\n                  !imageList?.length ? onImageUpload : () => onImageUpdate(0)\r\n                }\r\n                {...dragProps}\r\n              >\r\n                <div\r\n                  className={`relative rounded-lg min-h-[100px] w-[80%] overflow-hidden flex items-center justify-center bg-center select-none cursor-pointer transition-all`}\r\n                >\r\n                  <img\r\n                    src={\r\n                      (imageList?.length && imageList[0]?.data_url) ||\r\n                      classroomBackground\r\n                    }\r\n                    className=\"h-[200px] w-full\"\r\n                    alt=\"\"\r\n                  />\r\n                  <label\r\n                    className=\"absolute z-1 w-full text-transparent hover:text-white hover:bg-gray-800 flex justify-center items-center hover:bg-opacity-50 transition-all min-h-[300px] cursor-pointer\"\r\n                    htmlFor=\"image\"\r\n                  >\r\n                    <span className=\"text-2xl\">Pick an image</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </ImageUploading>\r\n          {/*  */}\r\n          <div className=\"w-full flex flex-row-reverse gap-5\">\r\n            <Button onClick={() => setIsOpen(!isOpen)}>Cancel</Button>\r\n            <Button type=\"submit\">{edit ? `Save` : `Create`}</Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <TokenExpire isOpen={isExpired} />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ManageClassModal\r\n","import React from 'react';\r\nimport Modal from 'react-modal';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { API_URL } from '../../constant';\r\nimport createAxiosJWT from '../../createAxiosJWT';\r\nimport Button from '../Button';\r\n\r\nconst axiosJWT = createAxiosJWT();\r\nconst TokenExpire = ({ isOpen }) => {\r\n    const customStyles = {\r\n        overlay: {\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(165, 165, 165, 0.6)',\r\n        },\r\n        content: {\r\n            top: '50%',\r\n            left: '50%',\r\n            right: 'auto',\r\n            bottom: 'auto',\r\n            marginRight: '-50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n        },\r\n    };\r\n    const navigate = useNavigate();\r\n    const handleLogOut = async () => {\r\n        try {\r\n            await axiosJWT.delete(API_URL + 'account/logout');\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            navigate('/');\r\n            window.location.reload();\r\n        } catch (err) {\r\n            console.log(err);\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            navigate('/');\r\n            window.location.reload();\r\n        }\r\n    };\r\n    return (\r\n        <Modal\r\n            isOpen={isOpen}\r\n            style={customStyles}\r\n            contentLabel='Example Modal'\r\n            ariaHideApp={false}\r\n        >\r\n            <div className='flex flex-col gap-4 w-[500px]'>\r\n                <span className='text-2xl font-medium'>Session Expired</span>\r\n                <span>\r\n                    Your session has expired please login again, click the button bellow to go back\r\n                    login screen\r\n                </span>\r\n                <div className='flex justify-center'>\r\n                    <Button onClick={handleLogOut} className='w-[50%]'>\r\n                        Login\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default TokenExpire;\r\n","import axios from 'axios'\r\nimport jwt_decode from 'jwt-decode'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport { API_URL } from './constant'\r\n\r\nconst refreshToken = async () => {\r\n  try {\r\n    const refreshToken = localStorage.getItem('refresh_token')\r\n    const res = await axios.post(\r\n      API_URL + `account/refresh-token`,\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${refreshToken}` },\r\n      },\r\n    )\r\n    return res.data\r\n  } catch (err) {\r\n    // return navigation('/');\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst createAxiosJWT = () => {\r\n  const newInstance = axios.create()\r\n  newInstance.interceptors.request.use(\r\n    async (config) => {\r\n      const accessToken = localStorage.getItem('access_token')\r\n      if (accessToken) {\r\n        const decodedToken = jwt_decode(accessToken)\r\n        try {\r\n          if (decodedToken.exp < Date.now() / 1000) {\r\n            const tokens = await refreshToken()\r\n            localStorage.setItem('access_token', tokens.accessToken)\r\n            localStorage.setItem('refresh_token', tokens.refreshToken)\r\n            config.headers['Authorization'] = 'Bearer ' + tokens.accessToken\r\n          } else config.headers['Authorization'] = 'Bearer ' + accessToken\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n      return config\r\n    },\r\n    (err) => {\r\n      console.log(err)\r\n      const navigate = useNavigate()\r\n      navigate('/')\r\n      // return Promise.reject(err);\r\n    },\r\n  )\r\n  return newInstance\r\n}\r\n\r\nexport default createAxiosJWT\r\n","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst DetailsCard = ({ value, title, isScore, shadow, color, nav }) => {\r\n    const { push } = useNavigate();\r\n    const navigate = useNavigate();\r\n    return (\r\n        <div\r\n            className={`min-w-[200px] h-[225px] bg-white rounded-md flex flex-col justify-between relative`}\r\n        >\r\n            <div\r\n                className={`absolute min-w-[200px] h-[225px] -z-10 rounded-md -translate-x-3 -translate-y-2 ${shadow}`}\r\n            ></div>\r\n            <div className='flex flex-col justify-center items-center gap-2 mt-16'>\r\n                <span\r\n                    className='font-semibold text-2xl cursor-pointer'\r\n                    onClick={() => {\r\n                        push('/class-details/score');\r\n                    }}\r\n                >\r\n                    {title}\r\n                </span>\r\n                <span className={`text-4xl relative ${color}`}>\r\n                    {value}\r\n                    {isScore === true ? (\r\n                        <span className='absolute text-xl text-gray-400 translate-y-4'>\r\n                            /100\r\n                        </span>\r\n                    ) : (\r\n                        ''\r\n                    )}\r\n                </span>\r\n            </div>\r\n            <div className='flex flex-row-reverse mx-4 mb-3'>\r\n                <span\r\n                    className='cursor-pointer'\r\n                    onClick={() => {\r\n                        // push('/class-details/score');\r\n                        navigate(nav);\r\n                    }}\r\n                >\r\n                    View Details\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DetailsCard;\r\n","import React, { useRef } from 'react'\r\nimport { useState } from 'react'\r\nimport Modal from 'react-modal'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport Button from '../Button'\r\nimport { API_URL } from '../../constant'\r\n\r\nimport createAxiosJWT from '../../createAxiosJWT'\r\n\r\nimport { toast } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n\r\nconst axiosJWT = createAxiosJWT()\r\nconst customStyles = {\r\n  overlay: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(165, 165, 165, 0.6)',\r\n  },\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n  },\r\n}\r\n\r\nconst DeleteClassModal = ({ isOpen, setIsOpen, classId }) => {\r\n  const [wrongText, setWrongText] = useState(false)\r\n  const navigate = useNavigate()\r\n  const notify = (message) => toast(message)\r\n  const handleDeleteClass = async () => {\r\n    if (confirmRef.current.value === 'delete this class') {\r\n      try {\r\n        await axiosJWT.delete(API_URL + `class/${classId}`)\r\n      } catch (err) {\r\n        notify('Delete failed please try again')\r\n      }\r\n      setIsOpen(false)\r\n      navigate(`/class`)\r\n      notify('Deleted success')\r\n    } else {\r\n      confirmRef.current.focus()\r\n      setWrongText(true)\r\n    }\r\n  }\r\n\r\n  const confirmRef = useRef(null)\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      style={customStyles}\r\n      shouldCloseOnOverlayClick={true}\r\n      contentLabel=\"Example Modal\"\r\n      ariaHideApp={false}\r\n    >\r\n      <div className=\"flex flex-col gap-4 w-[500px]\">\r\n        <span className=\"text-2xl font-medium\">Confirm delete class</span>\r\n        <span className=\"px-2\">\r\n          Type in <span className=\"text-red-500\">\"delete this class\"</span> to\r\n          confirm\r\n        </span>\r\n        <input\r\n          ref={confirmRef}\r\n          className={`px-3 py-2 ${\r\n            wrongText ? `outline-red-400` : `outline-primary`\r\n          } border border-gray-500 rounded-lg transition-all`}\r\n          type=\"text\"\r\n          placeholder=\"Confirm\"\r\n        />\r\n        <div className=\"flex flex-row-reverse mt-5 gap-5\">\r\n          <Button\r\n            onClick={() => {\r\n              setIsOpen(!isOpen)\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleDeleteClass}>Confirm</Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default DeleteClassModal\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport moment from 'moment'\r\n\r\nimport { API_URL } from '../../constant'\r\nimport Button from '../../components/Button'\r\nimport DetailsCard from '../../components/Teacher/DetailsCard'\r\nimport DeleteClassModal from '../../components/Modals/DeleteClassModal'\r\nimport ManageClassModal from '../../components/Modals/ManageClassModal'\r\nimport createAxiosJWT from '../../createAxiosJWT'\r\n\r\nconst axiosJWT = createAxiosJWT()\r\nconst image =\r\n  'https://img.freepik.com/premium-vector/students-classroom-teacher-near-blackboard-auditorium-teaches-maths-lesson-children-study-subject-kids-group-studying-elementary-primary-school-class-interior-cartoon-vector-flat-concept_176411-2393.jpg?w=2000'\r\nconst TeacherClass = () => {\r\n  const navigate = useNavigate()\r\n  const { classId } = useParams()\r\n  const [classInfo, setClassInfo] = useState({})\r\n\r\n  const [openModalDeleteClass, setOpenModalDeleteClass] = useState(false)\r\n  const [openModalEditClass, setOpenEditDeleteClass] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const getClassInfo = async (classId) => {\r\n      try {\r\n        const res = await axiosJWT.get(API_URL + `class/${classId}}`)\r\n        setClassInfo(res.data)\r\n      } catch (err) {\r\n        navigate(-1)\r\n      }\r\n    }\r\n    getClassInfo(classId)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [classId])\r\n\r\n  return (\r\n    <div className=\"mt-8 mx-20 mb-5\">\r\n      {/* <PageHeader pageName={`Classes`}></PageHeader> */}\r\n      <div className=\"flex flex-col gap-7\">\r\n        {/* top */}\r\n        <div className=\"flex flex-row justify-between items-center\">\r\n          <div className=\"flex gap-2 items-center\">\r\n            <i className=\"fas fa-caret-left text-xl font-bold\"></i>\r\n            <span\r\n              className=\"underline underline-offset-4 font-semibold cursor-pointer\"\r\n              onClick={() => {\r\n                navigate('/class')\r\n              }}\r\n            >\r\n              All Classes\r\n            </span>\r\n          </div>\r\n          <div className=\"flex flex-row gap-5\">\r\n            <Button\r\n              onClick={() => setOpenModalDeleteClass(true)}\r\n              className=\"bg-red-500 text-white border-none shadow-lg relative flex flex-row justify-center items-center gap-3\"\r\n            >\r\n              Delete Class\r\n            </Button>\r\n            <Button\r\n              onClick={() => {\r\n                setOpenEditDeleteClass(true)\r\n              }}\r\n              className=\"bg-white text-primary border-none shadow-lg relative flex flex-row justify-center items-center gap-3\"\r\n            >\r\n              Edit Class\r\n            </Button>\r\n          </div>\r\n          <DeleteClassModal\r\n            isOpen={openModalDeleteClass}\r\n            setIsOpen={setOpenModalDeleteClass}\r\n            classId={classId}\r\n          />\r\n          <ManageClassModal\r\n            isOpen={openModalEditClass}\r\n            setIsOpen={setOpenEditDeleteClass}\r\n            classInfo={classInfo}\r\n            setClassInfo={setClassInfo}\r\n            edit\r\n          />\r\n        </div>\r\n        {/* class infos */}\r\n        <div className=\"flex flex-col justify-center items-center\">\r\n          <img\r\n            src={classInfo?.classImg || image}\r\n            onError={({ currentTarget }) => {\r\n              currentTarget.onerror = null\r\n              currentTarget.src = image\r\n            }}\r\n            alt=\"\"\r\n            className=\"w-[200px] h-[200px] rounded-full border-4 border-white shadow-2xl mb-5 object-cover\"\r\n          />\r\n          <span className=\"font-bold text-3xl my-3\">\r\n            {classInfo?.className}\r\n          </span>\r\n          <span className=\"\">\r\n            Date created:{' '}\r\n            {`${moment(classInfo?.createdAt).format('MM/DD/YYYY')}`}\r\n          </span>\r\n        </div>\r\n\r\n        {/* detail cards */}\r\n        <div className=\"px-16 flex flex-row gap-32 justify-center items-center\">\r\n          <DetailsCard\r\n            value={classInfo?.numberAssignments || 0}\r\n            title=\"Exams\"\r\n            shadow=\"teacherdetails__AScore\"\r\n            color={'text-[#00d4ff]'}\r\n            nav={`/class/${classId}/exams`}\r\n          />\r\n          <DetailsCard\r\n            value={classInfo?.numberTopics || 0}\r\n            title=\"Topics\"\r\n            shadow=\"teacherdetails__Topics\"\r\n            color=\"text-[#9fff24]\"\r\n            nav={`/class/${classId}/topic`}\r\n          />\r\n          <DetailsCard\r\n            value={classInfo?.numberStudents || 0}\r\n            title=\"Students\"\r\n            shadow=\"teacherdetails__Students\"\r\n            color=\"text-[#ff24cf78]\"\r\n            nav={`/class/${classId}/manage-student`}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TeacherClass\r\n"],"names":["children","className","rest","axiosJWT","createAxiosJWT","customStyles","overlay","position","top","left","right","bottom","backgroundColor","content","marginRight","transform","border","borderRadius","isOpen","setIsOpen","edit","getClassOfTeacher","classInfo","setClassInfo","useForm","register","handleSubmit","useState","isExpired","setIsExpired","grades","setGrades","image","setImage","gradeId","setGradeId","notify","message","toast","onSubmit","data","length","file","post","API_URL","headers","classImg","res","updateClass","put","id","get","classInfoAfterUpdated","createClass","year","Date","getFullYear","console","log","response","status","useEffect","then","data_url","style","shouldCloseOnOverlayClick","contentLabel","ariaHideApp","defaultValue","type","required","placeholder","options","onChange","e","getOptionValue","option","getOptionLabel","gradeName","value","imageList","dataURLKey","onImageUpload","onImageUpdate","dragProps","onClick","src","classroomBackground","alt","htmlFor","navigate","useNavigate","handleLogOut","delete","localStorage","removeItem","window","location","reload","refreshToken","getItem","axios","Authorization","newInstance","interceptors","request","use","config","accessToken","decodedToken","jwt_decode","exp","now","tokens","setItem","err","title","isScore","shadow","color","nav","push","classId","wrongText","setWrongText","handleDeleteClass","confirmRef","current","focus","useRef","ref","Button","useParams","openModalDeleteClass","setOpenModalDeleteClass","openModalEditClass","setOpenEditDeleteClass","getClassInfo","ManageClassModal","onError","currentTarget","onerror","moment","createdAt","format","numberAssignments","numberTopics","numberStudents"],"sourceRoot":""}