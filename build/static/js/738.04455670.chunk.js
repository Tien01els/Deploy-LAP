"use strict";(self.webpackChunktemplate_react_app=self.webpackChunktemplate_react_app||[]).push([[738],{4453:function(e,t,a){var n=a(1413),r=a(5987),s=(a(2791),a(184)),c=["children","className"];t.Z=function(e){var t=e.children,a=e.className,o=void 0===a?"":a,i=(0,r.Z)(e,c);return(0,s.jsx)("button",(0,n.Z)((0,n.Z)({className:"bg-primary py-2 px-5 rounded-lg border-2 text-white transition-all active:scale-90 cursor-pointer select-none hover:bg-opacity-90 text-center border-none ".concat(o," ")},i),{},{children:t}))}},1756:function(e,t,a){var n=a(4165),r=a(5861),s=(a(2791),a(7948)),c=a.n(s),o=a(7689),i=a(3458),l=a(4212),u=a(4453),d=a(184),p=(0,l.Z)();t.Z=function(e){var t=e.isOpen,a=(0,o.s0)(),s=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.delete(i.T+"account/logout");case 3:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),a("/"),window.location.reload(),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),a("/"),window.location.reload();case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)(c(),{isOpen:t,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(165, 165, 165, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"8px"}},contentLabel:"Example Modal",ariaHideApp:!1,children:(0,d.jsxs)("div",{className:"flex flex-col gap-4 w-[500px]",children:[(0,d.jsx)("span",{className:"text-2xl font-medium",children:"Session Expired"}),(0,d.jsx)("span",{children:"Your session has expired please login again, click the button bellow to go back login screen"}),(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(u.Z,{onClick:s,className:"w-[50%]",children:"Login"})})]})})}},4212:function(e,t,a){var n=a(4165),r=a(5861),s=a(4569),c=a.n(s),o=a(456),i=a(7689),l=a(3458),u=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("refresh_token"),e.next=4,c().post(l.T+"account/refresh-token",{},{headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();t.Z=function(){var e=c().create();return e.interceptors.request.use(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var a,r,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("access_token"))){e.next=19;break}if(r=(0,o.Z)(a),e.prev=3,!(r.exp<Date.now()/1e3)){e.next=13;break}return e.next=7,u();case 7:s=e.sent,localStorage.setItem("access_token",s.accessToken),localStorage.setItem("refresh_token",s.refreshToken),t.headers.Authorization="Bearer "+s.accessToken,e.next=14;break;case 13:t.headers.Authorization="Bearer "+a;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log(e),(0,i.s0)()("/")})),e}},5738:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(4165),r=a(5861),s=a(885),c=a(2791),o=a(4255),i=a(184),l=function(e){var t=e.val,a=e.children,n=e.className,r=void 0===n?"":n,s=e.isTeacher;return(0,i.jsxs)("div",{className:"flex flex-col gap-2 w-[400px] px-5 py-5 bg-white rounded-md shadow-md ".concat(r),children:[a,(0,i.jsx)("span",{className:"text-xl text-primary font-[500] w-full truncate",children:t.topicName}),(0,i.jsxs)("span",{className:"text-xs text-gray-500 w-full truncate",children:["Prerequisite topic:"," ",t.prerequisiteTopicName?t.prerequisiteTopicName:"Not have prerequisite topic"]}),(0,i.jsx)("span",{className:"text-justify whitespace-normal break-words",children:t.description}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("span",{className:"text-gray-500 text-sm",children:["Quantity of skills: ",t.numberSkills]}),!s&&(0,i.jsx)("span",{className:"text-sm text-green-400",children:t.statusTopicOfStudent})]})]})},u=a(3458),d=a(4212),p=a(1756),f=(0,d.Z)(),x=function(e){var t=e.isTeacher,a=e.isParent,d=(0,c.useState)(!1),x=(0,s.Z)(d,2),h=x[0],v=x[1],m=(0,c.useState)(),g=(0,s.Z)(m,2),k=g[0],b=g[1],w=(0,c.useState)([]),Z=(0,s.Z)(w,2),N=Z[0],j=Z[1],y=(0,c.useState)([]),T=(0,s.Z)(y,2),S=T[0],_=T[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield((0,n.Z)().mark((function e(){var r,s,c,o,i,l,d,p,x,h,v,m,g,b,w,Z,N;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null,c=null,o=null,!a){e.next=7;break}c=null===k||void 0===k?void 0:k.id,e.next=37;break;case 7:if(!t){e.next=20;break}return e.next=10,f.get(u.T+"parent/student");case 10:if(x=e.sent,s=null===(l=x.data)||void 0===l?void 0:l.classId,e.t0=null===(d=x.data)||void 0===d?void 0:d.id,!e.t0){e.next=17;break}return e.next=16,f.get(u.T+"parent/student/".concat(null===(p=x.data)||void 0===p?void 0:p.id,"/class/").concat(s,"/topic"));case 16:e.t0=e.sent;case 17:o=e.t0,e.next=30;break;case 20:return e.next=22,f.get(u.T+"student/class");case 22:if(v=e.sent,s=null===(h=v.data)||void 0===h?void 0:h.id,e.t1=v,!e.t1){e.next=29;break}return e.next=28,f.get(u.T+"student-topic/student/class/".concat(s));case 28:e.t1=e.sent;case 29:o=e.t1;case 30:if(e.t2=s,!e.t2){e.next=35;break}return e.next=34,f.get(u.T+"grade/class/".concat(s));case 34:e.t2=e.sent;case 35:m=e.t2,c=null===m||void 0===m||null===(i=m.data)||void 0===i?void 0:i.id;case 37:if(e.t3=c,!e.t3){e.next=42;break}return e.next=41,f.get(u.T+"grade/".concat(c,"/road-map"));case 41:e.t3=e.sent;case 42:if(null!==(g=e.t3)&&void 0!==g&&null!==(r=g.data)&&void 0!==r&&r.length){if(null!==(b=o)&&void 0!==b&&null!==(w=b.data)&&void 0!==w&&w.length)for(Z=function(e){o.data.find((function(t){return t.isPass&&t.topicId===g.data[e].topicId}))?g.data[e].statusTopicOfStudent="Passed":g.data[e].statusTopicOfStudent=""},N=0;N<g.data.length;++N)Z(N);j(g.data)}case 44:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=8;break;case 4:e.prev=4,e.t1=e.catch(0),console.log(e.t1),401===e.t1.response.status&&v(!0);case 8:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,a){return e.apply(this,arguments)}}();e(a,t)}),[a,t,null===k||void 0===k?void 0:k.id]),(0,c.useEffect)((function(){if(t){var e=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get(u.T+"grade/teacher");case 2:t=e.sent,_(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-col gap-7 items-center py-7 px-10",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-5 items-center",children:[(0,i.jsx)("span",{className:"text-4xl font-[500] text-gray-600",children:"Road map"}),t&&(0,i.jsx)(o.ZP,{options:S,value:k,onChange:b,getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.gradeName},placeholder:"Please select a grade",className:"w-[400px]"})]}),(0,i.jsxs)("div",{className:"relative w-[850px]",children:[(0,i.jsx)("div",{className:"bg-primary absolute w-1 left-[calc(50%-2px)] h-full"}),(0,i.jsx)("div",{className:"flex flex-col gap-5 [&>*:nth-child(odd)]:self-start  [&>*:nth-child(even)]:self-end",children:N.map((function(e,a){return e&&(0,i.jsx)(l,{val:e,className:"relative",isTeacher:t},a)}))})]})]}),(0,i.jsx)(p.Z,{isOpen:h})]})}}}]);
//# sourceMappingURL=738.04455670.chunk.js.map